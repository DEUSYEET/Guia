{"version":3,"sources":["tools.js","components/guidePreview.jsx","pages/Home.jsx","components/deleteButton.jsx","components/voteButtons.jsx","components/commentVoteButtons.jsx","components/Comment.jsx","components/CommentBox.jsx","components/Authentication.jsx","pages/Guide.jsx","components/fileUpload.jsx","components/guideSectionCreator.jsx","pages/CreateGuide.jsx","components/loginForm.jsx","pages/LoginPage.jsx","components/signUpForm.jsx","pages/SignUpPage.jsx","App.js","serviceWorker.js","index.js"],"names":["exports","getVidID","url","cleanUrl","replace","trim","includes","split","deleteGuide","id","fetch","then","res","console","log","tools","require","GuidePreview","guide","props","video","videoThumbnail","className","this","image","src","alt","title","author","description","role","aria-label","scoreUp","scoreDown","Component","Home","state","guides","getAll","json","data","setState","sort","a","b","aScore","map","to","guideID","key","DeleteButton","history","useHistory","onClick","push","VoteButtons","updateScores","e","formData","FormData","vote","voteType","target","classList","user","append","JSON","stringify","axios","post","upUsers","onVote","downUsers","CommentVoteButtons","comment","commentID","Comment","body","username","parentID","hide","CommentBox","createCommentUrl","getCommentsUrl","deleteUrl","onAddComment","content","value","userComment","uploadComment","v4","updateComments","document","getElementById","boxID","onDelete","comments","onReply","bind","onChange","placeholder","_id","pool","CognitoUserPool","UserPoolId","ClientId","auth","Username","Password","Promise","resolve","reject","CognitoUser","Pool","AuthenticationDetails","authenticateUser","onSuccess","onFailure","err","newPasswordRequired","session","getCurrentUser","getSession","getUserAttributes","att","Session","Attributes","logout","signOut","window","location","href","getUsername","email","catch","Guide","URLSearchParams","search","get","guideHead","guideSections","getSections","val","Value","videoId","section","submit","FileUpload","file","onChooseFile","evt","files","innerHTML","onUploadFile","name","handler","type","accept","guideSection","sectionID","CreateGuideSection","submitID","onSaveGuide","button","onAddSectionImg","prevState","Location","onNotSaved","CreateGuide","onAddHeadImg","sectionIndex","addSection","LogInForm","password","onSubmit","preventDefault","error","LoginPage","SignUpForm","userPool","invalid","signUp","Name","SignUpPage","App","homeLinks","path","render","Hide","Boolean","hostname","match","ReactDOM","navigator","serviceWorker","ready","registration","unregister","message"],"mappings":"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","file":"static/js/main.6b61190f.chunk.js","sourcesContent":["// const cognito = require('amazon-cognito-identity-js')\r\n\r\nexports.getVidID = url=> {\r\n  let cleanUrl = url.replace(\"https://\",\"\").trim();\r\n  \r\n  if(cleanUrl.includes(\"youtu.be\")){\r\n    let splitUrl = cleanUrl.split(\"/\")\r\n    return(splitUrl[1])\r\n  } else {\r\n    let splitUrl = cleanUrl.split(\"?v=\")\r\n    let cleanSplitUrl = splitUrl[1].split(\"&\");\r\n    return(cleanSplitUrl[0])\r\n  }\r\n}\r\n\r\nexports.deleteGuide = id =>{\r\n  \r\n  let url = \"\";\r\n  if (!process.env.NODE_ENV || process.env.NODE_ENV === 'development') {\r\n    url = \"http://localhost:8080/deleteGuide?guideId=\" +id;\r\n  } else {\r\n      url = \r\n        \"http://guiabackend-env.eba-u9xxwbnm.us-west-1.elasticbeanstalk.com/deleteGuide?guideId=\" + id\r\n  }\r\n  \r\n  fetch(url).then(res=>{\r\n    console.log(res);\r\n  })\r\n}\r\n","import React, { Component } from \"react\";\r\nconst tools = require(\"../tools\");\r\n\r\nclass GuidePreview extends Component {\r\n  guide = this.props.guide;\r\n  url = this.guide.video;\r\n  videoThumbnail = (this.url ? (\"https://img.youtube.com/vi/\" + tools.getVidID(this.url) + \"/0.jpg\") : \"\");\r\n\r\n    \r\n\r\n\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"guidePreview\">\r\n        {!this.guide.image && this.url && (\r\n          <div className=\"guidePreviewImgBox\">\r\n            <img\r\n              className=\"guidePreviewImg\"\r\n              src={this.videoThumbnail}\r\n              alt={this.guide.title}\r\n            ></img>\r\n          </div>\r\n        )}\r\n        {this.guide.image && (\r\n          <div className=\"guidePreviewImgBox\">\r\n            <img\r\n              className=\"guidePreviewImg\"\r\n              src={this.guide.image}\r\n              alt={this.guide.title}\r\n            />\r\n          </div>\r\n        )}\r\n        <div className=\"guidePreviewContent\">\r\n          <div className=\"guidePreviewTitle\">{this.guide.title}</div>\r\n          <div className=\"guidePreviewAuthor\">{this.guide.author || \"Anonymous\"}</div>\r\n          <div className=\"guidePreviewDesc\">{this.guide.description}</div>\r\n          <div className=\"guidePreviewScore\"> <span role=\"img\" aria-label=\"up\">👍</span>{this.guide.scoreUp || 0} /<span role=\"img\" aria-label=\"down\"> 👎</span>{this.guide.scoreDown || 0}</div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default GuidePreview;\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport GuidePreview from \"../components/guidePreview\";\r\n\r\nclass Home extends Component {\r\n  state = {\r\n    guides: [],\r\n  };\r\n\r\n  url = \"\";\r\n\r\n  componentDidMount() {\r\n    if (!process.env.NODE_ENV || process.env.NODE_ENV === \"development\") {\r\n      this.url = \"http://localhost:8080/getAll\";\r\n    } else {\r\n      this.url =\r\n        \"http://guiabackend-env.eba-u9xxwbnm.us-west-1.elasticbeanstalk.com/getAll\";\r\n    }\r\n    // console.log(\"Mounted\")\r\n    this.getAll();\r\n  }\r\n\r\n  getAll() {\r\n    // console.log(url)\r\n    fetch(this.url)\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        // console.log(data);\r\n        this.setState({\r\n          guides: data,\r\n        });\r\n        // console.log(this.state.guides);\r\n      });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div id=\"homePage\">\r\n        <div id=\"homeTitle\">Featured Guides</div>\r\n        <div id=\"homeGuideContainer\">\r\n          {this.state.guides\r\n            .sort((a, b) => {\r\n              let aScore = a.scoreUp - a.scoreDown;\r\n              let bScore = b.scoreUp - b.scoreDown;\r\n              return bScore - aScore;\r\n            })\r\n            .map((guide) => (\r\n              <Link to={\"/guide?guideID=\" + guide.guideID} key={guide.guideID}>\r\n                <GuidePreview guide={guide} />\r\n              </Link>\r\n            ))}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default Home;\r\n","import React from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nconst tools = require(\"../tools\");\r\n\r\n\r\n\r\nconst DeleteButton = (props) => {\r\n    let history = useHistory();\r\n    function onDelete() {\r\n        // console.log(props.id)\r\n    tools.deleteGuide(props.id)\r\n    history.push(\"/\");\r\n  };\r\n\r\n  return <div className=\"deleteButton\" onClick={onDelete}>Delete Guide</div>;\r\n};\r\n\r\nexport default DeleteButton;","import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nclass VoteButtons extends Component {\r\n  url = \"\";\r\n  state = {\r\n    guide: this.props.guide,\r\n    scoreUp: 0,\r\n    scoreDown: 0,\r\n  };\r\n  componentDidMount() {\r\n    if (!process.env.NODE_ENV || process.env.NODE_ENV === \"development\") {\r\n      this.url = \"http://localhost:8080/voteGuide\";\r\n    } else {\r\n      this.url =\r\n        \"http://guiabackend-env.eba-u9xxwbnm.us-west-1.elasticbeanstalk.com/voteGuide\";\r\n    }\r\n    // console.log(this.url);\r\n    this.updateScores(this.state.guide);\r\n  }\r\n\r\n  onVote(e) {\r\n    let formData = new FormData();\r\n    let vote = {\r\n      guideID: this.state.guide.guideID,\r\n      voteType: e.target.classList[0],\r\n      user: this.props.user,\r\n    };\r\n    // console.log(vote);\r\n    formData.append(\"file\", JSON.stringify(vote));\r\n    axios.post(this.url, formData).then((res) => {\r\n      //   console.log(res);\r\n      this.setState({\r\n        guide: res.data,\r\n      });\r\n      this.updateScores(res.data);\r\n      //   this.forceUpdate();\r\n    });\r\n  }\r\n\r\n  updateScores(guide) {\r\n    this.setState({\r\n      scoreUp: guide.scoreUp,\r\n      scoreDown: guide.scoreDown,\r\n    });\r\n    // console.log(guide.scoreUp,guide.scoreDown,this.state)\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"guideVoteButtons\">\r\n        <div\r\n          className={\r\n            this.state.guide.upUsers.includes(this.props.user)\r\n              ? \"guideUpvote voted\"\r\n              : \"guideUpvote\"\r\n          }\r\n        >\r\n          <span\r\n            role=\"img\"\r\n            aria-label=\"up\"\r\n            className=\"up\"\r\n            onClick={(e) => this.onVote(e)}\r\n          >\r\n            👍\r\n            {this.state.scoreUp || 0}\r\n          </span>\r\n        </div>\r\n        <div\r\n          className={\r\n            this.state.guide.downUsers.includes(this.props.user)\r\n              ? \"guideDownvote voted\"\r\n              : \"guideDownvote\"\r\n          }\r\n        >\r\n          <span\r\n            role=\"img\"\r\n            aria-label=\"down\"\r\n            className=\"down\"\r\n            onClick={(e) => this.onVote(e)}\r\n          >\r\n            👎\r\n            {this.state.guide.scoreDown || 0}\r\n          </span>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default VoteButtons;\r\n","import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nclass CommentVoteButtons extends Component {\r\n  url = \"\";\r\n  state = {\r\n    comment: this.props.comment,\r\n    scoreUp: 0,\r\n    scoreDown: 0,\r\n  };\r\n  componentDidMount() {\r\n    if (!process.env.NODE_ENV || process.env.NODE_ENV === \"development\") {\r\n      this.url = \"http://localhost:8080/voteComment\";\r\n    } else {\r\n      this.url =\r\n        \"http://guiabackend-env.eba-u9xxwbnm.us-west-1.elasticbeanstalk.com/voteComment\";\r\n    }\r\n    // console.log(this.url);\r\n    this.updateScores(this.state.comment);\r\n  }\r\n\r\n  onVote(e) {\r\n    let formData = new FormData();\r\n    let vote = {\r\n      commentID: this.state.comment.commentID,\r\n      voteType: e.target.classList[0],\r\n      user: this.props.user,\r\n    };\r\n    // console.log(vote);\r\n    formData.append(\"file\", JSON.stringify(vote));\r\n    axios.post(this.url, formData).then((res) => {\r\n      console.log(res.data);\r\n      this.setState({\r\n        comment: res.data,\r\n        scoreUp: res.data.scoreUp,\r\n        scoreDown: res.data.scoreDown,\r\n      });\r\n      this.updateScores(res.data);\r\n      //   this.forceUpdate();\r\n    });\r\n  }\r\n\r\n  updateScores(comment) {\r\n    this.setState({\r\n      scoreUp: comment.scoreUp,\r\n      scoreDown: comment.scoreDown,\r\n    });\r\n    // console.log(this.state.comment.upUsers,this.state.comment.downUsers)\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"guideVoteButtons\">\r\n        <div\r\n          className={\r\n            this.state.comment.upUsers.includes(this.props.user)\r\n              ? \"guideUpvote voted\"\r\n              : \"guideUpvote\"\r\n          }\r\n        >\r\n          <span\r\n            role=\"img\"\r\n            aria-label=\"up\"\r\n            className=\"up\"\r\n            onClick={(e) => this.onVote(e)}\r\n          >\r\n            👍\r\n            {this.state.scoreUp || 0}\r\n          </span>\r\n        </div>\r\n        <div\r\n          className={\r\n            this.state.comment.downUsers.includes(this.props.user)\r\n              ? \"guideDownvote voted\"\r\n              : \"guideDownvote\"\r\n          }\r\n        >\r\n          <span\r\n            role=\"img\"\r\n            aria-label=\"down\"\r\n            className=\"down\"\r\n            onClick={(e) => this.onVote(e)}\r\n          >\r\n            👎\r\n            {this.state.scoreDown || 0}\r\n          </span>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default CommentVoteButtons;\r\n","import React, { Component } from \"react\";\r\nimport CommentBox from \"../components/CommentBox\";\r\nimport CommentVoteButtons from \"./commentVoteButtons\";\r\n\r\nclass Comment extends Component {\r\n  comment = this.props.comment;\r\n  render() {\r\n    return (\r\n      <div className=\"comment\">\r\n        <div className=\"commentAuthor\">{this.comment.author}</div>\r\n        <div className=\"commentBody\">{this.comment.body}</div>\r\n        {this.comment.author === \"[Deleted]\" ? (\r\n          \"\"\r\n        ) : (\r\n          <div className=\"commentInteractions\">\r\n\r\n          <CommentVoteButtons\r\n            comment={this.comment}\r\n            user={this.props.username}\r\n          />\r\n          </div>\r\n        )}\r\n        <CommentBox\r\n          parentID={this.comment.commentID}\r\n          user={this.props.user}\r\n          username={this.props.username}\r\n          hide={true}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default Comment;\r\n","import React, { Component } from \"react\";\r\nimport Comment from \"./Comment\";\r\nimport axios from \"axios\";\r\nimport { v4 } from \"uuid\";\r\n\r\nclass CommentBox extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      // box: {},\r\n      boxID: v4(),\r\n      comments: [],\r\n      userComment: \"\",\r\n      hide: this.props.hide,\r\n    };\r\n    this.onReply = this.onReply.bind(this);\r\n    //   this.onDelete = this.onDelete.bind(this)\r\n  }\r\n\r\n  createCommentUrl = \"\";\r\n  getCommentsUrl = \"\";\r\n  deleteUrl = \"\";\r\n  componentDidMount() {\r\n    if (!process.env.NODE_ENV || process.env.NODE_ENV === \"development\") {\r\n      this.createCommentUrl = \"http://localhost:8080/uploadComment\";\r\n      this.deleteUrl = \"http://localhost:8080/deleteComment\";\r\n      this.getCommentsUrl = \"http://localhost:8080/getComments\";\r\n    } else {\r\n      this.createCommentUrl = \"http://guiabackend-env.eba-u9xxwbnm.us-west-1.elasticbeanstalk.com/uploadComment\";\r\n      this.deleteUrl = \"http://guiabackend-env.eba-u9xxwbnm.us-west-1.elasticbeanstalk.com/deleteComment\";\r\n      this.getCommentsUrl = \"http://guiabackend-env.eba-u9xxwbnm.us-west-1.elasticbeanstalk.com/getComments\";\r\n    }\r\n    // console.log(\"mounting\");\r\n    this.updateComments();\r\n  }\r\n\r\n  onAddComment = (e) => {\r\n    let content = e.target.value;\r\n    this.setState({\r\n      userComment: content,\r\n    });\r\n  };\r\n\r\n  uploadComment = () => {\r\n    let formData = new FormData();\r\n    formData.append(\r\n      \"file\",\r\n      JSON.stringify({\r\n        parentID: this.props.parentID,\r\n        commentID: v4(),\r\n        author: this.props.username,\r\n        body: this.state.userComment,\r\n      })\r\n    );\r\n    axios.post(this.createCommentUrl, formData).then((res) => {\r\n      this.updateComments();\r\n      document.getElementById(this.state.boxID).value = \"\";\r\n    });\r\n  };\r\n\r\n  onDelete = (e) => {\r\n    let formData = new FormData();\r\n    formData.append(\r\n      \"file\",\r\n      JSON.stringify({\r\n        parentID: this.props.parentID,\r\n        commentID: e.target.id,\r\n        author: \"[Deleted]\",\r\n        body: \"[Deleted]\",\r\n      })\r\n    );\r\n    axios.post(this.createCommentUrl, formData).then((res) => {\r\n    //   console.log(\"delete\");\r\n      this.updateComments();\r\n    });\r\n  };\r\n\r\n  updateComments = () => {\r\n    let formData = new FormData();\r\n    formData.append(\r\n      \"file\",\r\n      JSON.stringify({\r\n        parentID: this.props.parentID,\r\n      })\r\n    );\r\n    axios.post(this.getCommentsUrl, formData).then((res) => {\r\n      this.setState(\r\n        {\r\n          comments: [],\r\n          hide: this.props.hide,\r\n        },\r\n        () => {\r\n          this.setState({\r\n            comments: res.data,\r\n            hide: this.props.hide,\r\n          });\r\n        }\r\n      );\r\n    });\r\n  };\r\n\r\n  onReply() {\r\n    this.setState({\r\n      hide: false,\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"commentBox\">\r\n        {this.props.user && !this.state.hide ? (\r\n          <div className=\"commentInput\">\r\n            <textarea\r\n              onChange={this.onAddComment}\r\n              className=\"commentTextArea\"\r\n              placeholder=\"Leave a comment\"\r\n              id={this.state.boxID}\r\n            />\r\n            <div className=\"commentButton\" onClick={this.uploadComment}>\r\n              Submit\r\n            </div>\r\n          </div>\r\n        ) : (\r\n          <div\r\n            className=\"replyButton\"\r\n            id={\"reply\" + this.state.boxID}\r\n            onClick={this.onReply}\r\n          >\r\n            Reply\r\n          </div>\r\n        )}\r\n        <div className=\"comments\">\r\n          {this.state.comments\r\n            .sort((a, b) => {\r\n              let aScore = a.scoreUp - a.scoreDown;\r\n              let bScore = b.scoreUp - b.scoreDown;\r\n              return bScore - aScore;\r\n            })\r\n            .map((comment) => (\r\n              <div key={comment._id}>\r\n                {this.props.username === comment.author?\r\n                <div\r\n                  className=\"deleteComment\"\r\n                  id={comment.commentID}\r\n                  onClick={this.onDelete}\r\n                >[X]</div>\r\n                :\r\n                \"\"}\r\n                <Comment comment={comment} {...this.props} />\r\n              </div>\r\n            ))}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default CommentBox;\r\n","import {\r\n  CognitoUser,\r\n  AuthenticationDetails,\r\n  CognitoUserPool,\r\n} from \"amazon-cognito-identity-js\";\r\n\r\nimport axios from \"axios\";\r\n\r\nconst pool = new CognitoUserPool({\r\n  UserPoolId: \"us-east-2_r9mOSgn28\",\r\n  ClientId: \"4id2vq725vkn530cdcj355d0dt\",\r\n});\r\n\r\nconst auth = async (Username, Password) =>\r\n  await new Promise((resolve, reject) => {\r\n    const user = new CognitoUser({\r\n      Username,\r\n      Pool: pool,\r\n    });\r\n    const auth = new AuthenticationDetails({\r\n      Username,\r\n      Password,\r\n    });\r\n\r\n    user.authenticateUser(auth, {\r\n      onSuccess: (data) => {\r\n        resolve(data);\r\n      },\r\n      onFailure: (err) => {\r\n        reject(err);\r\n      },\r\n      newPasswordRequired: (data) => {\r\n        resolve(data);\r\n      },\r\n    });\r\n  });\r\n\r\nconst session = async () =>\r\n  await new Promise((resolve, reject) => {\r\n    const user = pool.getCurrentUser();\r\n    if (user) {\r\n      user.getSession((err, session) => {\r\n        if (err) {\r\n          reject(err);\r\n        } else {\r\n          user.getUserAttributes((err, att) => {\r\n            if (err) {\r\n              reject(err);\r\n            } else {\r\n              resolve({ Session: session, Attributes: att });\r\n            }\r\n          });\r\n        }\r\n      });\r\n    } else {\r\n      reject();\r\n    }\r\n  });\r\n\r\nconst logout = () => {\r\n  const user = pool.getCurrentUser();\r\n  if (user) {\r\n    user.signOut();\r\n    window.location.href = \"/\";\r\n  }\r\n};\r\n\r\nconst getUsername = async (email) =>\r\n  await new Promise((resolve, reject) => {\r\n    let url = \"\";\r\n    if (!process.env.NODE_ENV || process.env.NODE_ENV === \"development\") {\r\n      url = \"http://localhost:8080/getUser\";\r\n    } else {\r\n      url =\r\n        \"http://guiabackend-env.eba-u9xxwbnm.us-west-1.elasticbeanstalk.com/getUser\";\r\n    }\r\n\r\n    let formData = new FormData();\r\n    formData.append(\"file\", JSON.stringify({ email: email }));\r\n\r\n    axios\r\n      .post(url, formData)\r\n      .then((res) => {\r\n        let username = res.data.username;\r\n        // console.log(username);\r\n        resolve(username);\r\n      })\r\n      .catch((err) => reject(err));\r\n  });\r\n\r\nexport { auth, session, logout, getUsername };\r\n","import React, { Component } from \"react\";\r\nimport YouTube from \"react-youtube\";\r\nimport DeleteButton from \"../components/deleteButton\";\r\nimport VoteButtons from \"../components/voteButtons\";\r\nimport CommentBox from \"../components/CommentBox\";\r\nimport { session, getUsername } from \"../components/Authentication\";\r\n\r\nconst tools = require(\"../tools\");\r\n\r\nclass Guide extends Component {\r\n  id = new URLSearchParams(this.props.location.search).get(\"guideID\");\r\n  url = \"\";\r\n\r\n  state = {\r\n    guideHead: {},\r\n    guideSections: [],\r\n    user: false,\r\n    username: \"\",\r\n  };\r\n\r\n  getSections() {\r\n    // console.log(this.url);\r\n    fetch(this.url)\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        // console.log(data);\r\n        this.setState({\r\n          guideHead: data[0],\r\n          guideSections: data[1],\r\n        });\r\n        // console.log(this.state);\r\n      });\r\n  }\r\n\r\n  componentDidMount() {\r\n    if (!process.env.NODE_ENV || process.env.NODE_ENV === \"development\") {\r\n      this.url = \"http://localhost:8080/getGuide?guideId=\" + this.id;\r\n    } else {\r\n      this.url =\r\n        \"http://guiabackend-env.eba-u9xxwbnm.us-west-1.elasticbeanstalk.com/getGuide?guideId=\" +\r\n        this.id;\r\n    }\r\n    // console.log(this.url)\r\n    // console.log(this.props.history)\r\n    this.getSections();\r\n    session()\r\n      .then((val) => {\r\n        if (val) {\r\n          let { Value } = val.Attributes[2];\r\n          getUsername(Value).then((data) => {\r\n            this.setState({\r\n              username: data,\r\n              user: true,\r\n            });\r\n            // console.log(this.state.username);\r\n          });\r\n        }\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div id=\"guide\">\r\n        <div id=\"guideHead\">\r\n          <div id=\"guideTitle\">{this.state.guideHead.title}</div>\r\n          <div id=\"guideAuthor\">{this.state.guideHead.author}</div>\r\n          {this.state.user ? (\r\n            <VoteButtons\r\n              guide={this.state.guideHead}\r\n              user={this.state.username}\r\n            />\r\n          ) : (\r\n            <div className=\"guideVoteButtons\">\r\n              <div>\r\n                <span role=\"img\" aria-label=\"up\" className=\"up\">\r\n                  👍\r\n                  {this.state.guideHead.scoreUp || 0}\r\n                </span>\r\n              </div>\r\n              <div>\r\n                <span role=\"img\" aria-label=\"down\" className=\"down\">\r\n                  👎\r\n                  {this.state.guideHead.scoreDown || 0}\r\n                </span>\r\n              </div>\r\n            </div>\r\n          )}\r\n          {this.state.user &&\r\n          this.state.username === this.state.guideHead.author ? (\r\n            <DeleteButton id={this.id} />\r\n          ) : (\r\n            \"\"\r\n          )}\r\n          {!this.state.guideHead.image && this.state.guideHead.video && (\r\n            <YouTube\r\n              id=\"guideHeadVideo\"\r\n              videoId={tools.getVidID(this.state.guideHead.video)}\r\n            ></YouTube>\r\n          )}\r\n          {this.state.guideHead.image && (\r\n            <img\r\n              id=\"guideHeadImg\"\r\n              src={this.state.guideHead.image}\r\n              alt={this.state.guideHead.title}\r\n            />\r\n          )}\r\n\r\n          <div id=\"guideHeadDesc\">{this.state.guideHead.description}</div>\r\n        </div>\r\n\r\n        <div id=\"guideSectionContainer\">\r\n          {this.state.guideSections.map((section) => (\r\n            <div className=\"guideSection\" key={section._id}>\r\n              <div className=\"guideSectionTitle\">{section.title}</div>\r\n\r\n              {!section.image && section.video && (\r\n                <YouTube\r\n                  className=\"guideSectionVideo\"\r\n                  videoId={tools.getVidID(section.video)}\r\n                ></YouTube>\r\n              )}\r\n              {section.image && (\r\n                <img\r\n                  className=\"guideSectionImg\"\r\n                  src={section.image}\r\n                  alt={section.title}\r\n                />\r\n              )}\r\n\r\n              <div className=\"guideSectionDesc\">{section.description}</div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n        <CommentBox\r\n          parentID={this.id}\r\n          user={this.state.user}\r\n          username={this.state.username}\r\n          hide={false}\r\n          submit={false}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Guide;\r\n","import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport { v4 } from \"uuid\";\r\n\r\n\r\nclass FileUpload extends Component {\r\n  url=\"\";\r\n  componentDidMount(){\r\n    if (!process.env.NODE_ENV || process.env.NODE_ENV === 'development') {\r\n      this.url = \"http://localhost:8080/uploadImage\";\r\n      } else {\r\n        this.url = \"http://guiabackend-env.eba-u9xxwbnm.us-west-1.elasticbeanstalk.com/uploadImage\";\r\n      }\r\n  }\r\n  \r\n  state = {\r\n    file: null,\r\n    id:v4()\r\n  };\r\n\r\n  onChooseFile = (evt) => {\r\n    this.setState({\r\n      file: evt.target.files[0],\r\n    });\r\n    document.getElementById(this.state.id).classList = \"unsavedButton\"\r\n    document.getElementById(this.state.id).innerHTML = \"Save Image\"\r\n  };\r\n  \r\n  onUploadFile = () => {\r\n    let file = new FormData();\r\n    file.append(\"file\",this.state.file,this.state.file.name)\r\n    axios.post(this.url,file).then(res=>{\r\n      this.props.handler(res);\r\n      document.getElementById(this.state.id).classList = \"saveFileButton\"\r\n    document.getElementById(this.state.id).innerHTML = \"Image Saved\"\r\n    });\r\n  };\r\n\r\n\r\n\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"fileUpload\">\r\n        <input type=\"file\" accept=\"image/*\" onChange = {this.onChooseFile}></input>\r\n        <div className=\"saveFileButton\" onClick={this.onUploadFile} id={this.state.id}>Save Image</div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default FileUpload;\r\n","import React, { Component } from \"react\";\r\nimport FileUpload from \"../components/fileUpload\";\r\nimport axios from \"axios\";\r\nimport { v4 } from \"uuid\";\r\n\r\nclass guideSection {\r\n  constructor(id) {\r\n    this.guideID = id;\r\n    this.sectionID = v4();\r\n    this.title = null;\r\n    this.description = null;\r\n    this.image = null;\r\n    this.video = null;\r\n  }\r\n}\r\n\r\nclass CreateGuideSection extends Component {\r\n  url = \"\";\r\n  componentDidMount() {\r\n    if (!process.env.NODE_ENV || process.env.NODE_ENV === \"development\") {\r\n      this.url = \"http://localhost:8080/uploadGuideSection\";\r\n    } else {\r\n      this.url =\r\n        \"http://guiabackend-env.eba-u9xxwbnm.us-west-1.elasticbeanstalk.com/uploadGuideSection\";\r\n    }\r\n  }\r\n  state = {\r\n    guideSection: new guideSection(this.props.guideID),\r\n    submitID: v4(),\r\n  };\r\n\r\n  onSaveGuide = () => {\r\n    console.log(this.state.guideSection);\r\n    let formData = new FormData();\r\n    formData.append(\"file\", JSON.stringify(this.state.guideSection));\r\n    axios.post(this.url, formData).then((res) => {\r\n      let button = document.getElementById(this.state.submitID);\r\n      button.classList = \"saveButton\";\r\n      button.innerHTML = \"Saved\";\r\n    });\r\n  };\r\n\r\n  onAddSectionImg = (res) => {\r\n    this.setState((prevState) => ({\r\n      guideSection: {\r\n        ...prevState.guideSection,\r\n        image: res.data.Location,\r\n      },\r\n    }));\r\n\r\n    console.log(this.state.guideSection);\r\n  };\r\n\r\n  onNotSaved = () => {\r\n    let button = document.getElementById(this.state.submitID);\r\n    button.classList = \"unsavedButton\";\r\n    button.innerHTML = \"Save Changes\";\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"guideCreatorSection\">\r\n        <div className=\"guideSectionCreatorLabel\">Add Section Title</div>\r\n        <input\r\n          type=\"text\"\r\n          className=\"guideCreatorSectionInput\"\r\n          placeholder=\"Section Title\"\r\n          onChange={(e) => {\r\n            let title = e.target.value;\r\n            this.setState((prevState) => ({\r\n              guideSection: {\r\n                ...prevState.guideSection,\r\n                title: title,\r\n              },\r\n            }));\r\n            this.onNotSaved();\r\n          }}\r\n        ></input>\r\n        <div className=\"guideSectionCreatorLabel\">Add Section Description</div>\r\n        <textarea\r\n          type=\"text\"\r\n          className=\"guideCreatorSectionInput\"\r\n          placeholder=\"Description\"\r\n          onChange={(e) => {\r\n            let description = e.target.value;\r\n            this.setState((prevState) => ({\r\n              guideSection: {\r\n                ...prevState.guideSection,\r\n                description: description,\r\n              },\r\n            }));\r\n            this.onNotSaved();\r\n          }}\r\n        ></textarea>\r\n        <div className=\"guideCreatorSectionAddImage\">\r\n          <div className=\"guideSectionCreatorLabel\">[Optional] Add Image</div>\r\n          <FileUpload handler={this.onAddSectionImg} />\r\n\r\n          <div className=\"guideSectionCreatorLabel\">[Optional] Add Video (takes place of image)</div>\r\n          <input\r\n            type=\"text\"\r\n            className=\"guideCreatorSectionInput\"\r\n            placeholder=\"Youtube URL\"\r\n            onChange={(e) => {\r\n              let url = e.target.value;\r\n              this.setState((prevState) => ({\r\n                guideSection: {\r\n                  ...prevState.guideSection,\r\n                  video: url,\r\n                },\r\n              }));\r\n              this.onNotSaved();\r\n            }}\r\n          ></input>\r\n\r\n        </div>\r\n        <div\r\n          className=\"saveButton\"\r\n          id={this.state.submitID}\r\n          onClick={this.onSaveGuide}\r\n        >\r\n          Section Saved\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default CreateGuideSection;\r\n","import { v4 } from \"uuid\";\r\nimport React, { Component } from \"react\";\r\nimport FileUpload from \"../components/fileUpload\";\r\nimport CreateGuideSection from \"../components/guideSectionCreator\";\r\nimport axios from \"axios\";\r\nimport { session, getUsername } from \"../components/Authentication\";\r\n\r\nlet user = \"\";\r\nsession()\r\n  .then((val) => {\r\n    if (val) {\r\n      let { Value } = val.Attributes[2];\r\n      getUsername(Value).then((data) => {\r\n        user = data;\r\n      });\r\n    }\r\n  })\r\n  .catch((err) => console.log(err));\r\n\r\nclass guideHead {\r\n  constructor() {\r\n    this.guideID = v4();\r\n    this.author = user;\r\n    this.title = \"\";\r\n    this.description = \"\";\r\n    this.image = \"\";\r\n    this.video = \"\";\r\n    this.scoreUp = 0;\r\n    this.scoreDown = 0;\r\n  }\r\n}\r\n\r\nclass CreateGuide extends Component {\r\n  state = {\r\n    guideHead: new guideHead(),\r\n    guideSections: [],\r\n  };\r\n\r\n  url = \"\";\r\n  componentDidMount() {\r\n    if (!process.env.NODE_ENV || process.env.NODE_ENV === \"development\") {\r\n      this.url = \"http://localhost:8080/uploadGuideHead\";\r\n    } else {\r\n      this.url =\r\n        \"http://guiabackend-env.eba-u9xxwbnm.us-west-1.elasticbeanstalk.com/uploadGuideHead\";\r\n    }\r\n    // console.log(this.url)\r\n  }\r\n\r\n  onSaveGuide = () => {\r\n    console.log(this.state.guideHead);\r\n    let formData = new FormData();\r\n    formData.append(\"file\", JSON.stringify(this.state.guideHead));\r\n    axios.post(this.url, formData).then((res) => {\r\n      let button = document.getElementById(\"saveHeadButton\");\r\n      button.classList = \"saveButton\";\r\n      button.innerHTML = \"Section Saved\";\r\n    });\r\n  };\r\n\r\n  onAddHeadImg = (res) => {\r\n    this.setState((prevState) => ({\r\n      guideHead: {\r\n        ...prevState.guideHead,\r\n        image: res.data.Location,\r\n      },\r\n    }));\r\n\r\n    console.log(this.state.guideHead);\r\n  };\r\n\r\n  onNotSaved = () => {\r\n    let button = document.getElementById(\"saveHeadButton\");\r\n    button.classList = \"unsavedButton\";\r\n    button.innerHTML = \"Save Changes\";\r\n  };\r\n\r\n  sectionIndex = 0;\r\n  addSection = () => {\r\n    this.setState((prevState) => ({\r\n      guideHead: {\r\n        ...prevState.guideHead,\r\n      },\r\n      guideSections: [\r\n        ...prevState.guideSections,\r\n        { key: this.sectionIndex, guideID: this.state.guideHead.guideID },\r\n      ],\r\n    }));\r\n    this.sectionIndex++;\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div id=\"guideCreator\">\r\n        {/* <div className=\"id\">{this.state.guideHead.guideID}</div> */}\r\n        <div id=\"guideCreatorHead\">\r\n          <div className=\"guideCreatorLabel\">Add Title</div>\r\n          <input\r\n            type=\"text\"\r\n            className=\"guideCreatorHeadInput\"\r\n            placeholder=\"Title\"\r\n            onChange={(e) => {\r\n              let title = e.target.value;\r\n              this.setState((prevState) => ({\r\n                guideHead: {\r\n                  ...prevState.guideHead,\r\n                  title: title,\r\n                },\r\n              }));\r\n              this.onNotSaved();\r\n            }}\r\n          ></input>\r\n          <div className=\"guideCreatorLabel\">Add Description</div>\r\n          <textarea\r\n            type=\"text\"\r\n            className=\"guideCreatorHeadInput\"\r\n            placeholder=\"Description\"\r\n            onChange={(e) => {\r\n              let description = e.target.value;\r\n              this.setState((prevState) => ({\r\n                guideHead: {\r\n                  ...prevState.guideHead,\r\n                  description: description,\r\n                },\r\n              }));\r\n              this.onNotSaved();\r\n            }}\r\n          ></textarea>\r\n          <div className=\"guideCreatorHeadAddImage\">\r\n            <div className=\"guideCreatorLabel\">[Optional] Add Image</div>\r\n            <FileUpload handler={this.onAddHeadImg} />\r\n            <div className=\"guideCreatorLabel\">[Optional] Add Video (takes place of image)</div>\r\n          <input\r\n            type=\"text\"\r\n            className=\"guideCreatorHeadInput\"\r\n            placeholder=\"Youtube URL\"\r\n            onChange={(e) => {\r\n              let url = e.target.value;\r\n              this.setState((prevState) => ({\r\n                guideHead: {\r\n                  ...prevState.guideHead,\r\n                  video: url,\r\n                },\r\n              }));\r\n              this.onNotSaved();\r\n            }}\r\n          ></input>\r\n          </div>\r\n          <div\r\n            className=\"saveButton\"\r\n            id=\"saveHeadButton\"\r\n            onClick={this.onSaveGuide}\r\n          >\r\n            Section Saved\r\n          </div>\r\n        </div>\r\n        <div className=\"guideCreatorSections\">\r\n          {this.state.guideSections.map((section) => (\r\n            <CreateGuideSection key={section.key} guideID={section.guideID} />\r\n          ))}\r\n        </div>\r\n        <div className=\"addSectionButton\" onClick={this.addSection}>\r\n          Add Section\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default CreateGuide;\r\n","import React, { Component } from \"react\";\r\nimport {auth} from './Authentication'\r\n\r\nclass LogInForm extends Component {\r\n  state = {\r\n    username: \"\",\r\n    password: \"\",\r\n  };\r\n\r\n  onSubmit = (e) => {\r\n    e.preventDefault();\r\n    auth(this.state.username,this.state.password).then(data=>{\r\n      // console.log(\"login\",data)\r\n    window.location.href= \"/\"\r\n\r\n    }).catch(err=>{\r\n      console.error(\"error\",err)\r\n    })\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div id=\"signUpForm\">\r\n      <div id=\"signInHead\">\r\n        Log In\r\n      </div>\r\n      <div className=\"signInLabel\">\r\n        Username\r\n      </div>\r\n        <input\r\n          type=\"text\"\r\n          className=\"signUpFormInput\"\r\n          placeholder=\"Username\"\r\n          onChange={(e) => {\r\n            let username = e.target.value;\r\n            this.setState((prevState) => ({\r\n              ...prevState,\r\n              username: username,\r\n            }));\r\n          }}\r\n        ></input>\r\n              <div className=\"signInLabel\">\r\n        Password\r\n      </div>\r\n        <input\r\n          type=\"password\"\r\n          className=\"signUpFormInput\"\r\n          placeholder=\"Password\"\r\n          onChange={(e) => {\r\n            let password = e.target.value;\r\n            this.setState((prevState) => ({\r\n              ...prevState,\r\n              password: password,\r\n            }));\r\n          }}\r\n        ></input>\r\n        <div id=\"submitButton\" onClick={this.onSubmit}>Submit</div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default LogInForm;\r\n","import React, { Component } from \"react\";\r\nimport LogInForm from '../components/loginForm'\r\n\r\n\r\nclass LoginPage extends Component {\r\n\r\n  state = {};\r\n\r\n  render() {\r\n    return (\r\n      <div id=\"loginPage\">\r\n        <div id=\"loginPageForm\">\r\n            <LogInForm />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default LoginPage;\r\n","import { CognitoUserPool } from \"amazon-cognito-identity-js\";\r\nimport React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\n\r\n// const tools = require(\"../tools\");\r\n\r\nclass SignUpForm extends Component {\r\n  url=\"\";\r\n  componentDidMount(){\r\n    if (!process.env.NODE_ENV || process.env.NODE_ENV === 'development') {\r\n      this.url = \"http://localhost:8080/createUser\";\r\n      } else {\r\n        this.url = \"http://guiabackend-env.eba-u9xxwbnm.us-west-1.elasticbeanstalk.com/createUser\";\r\n      }\r\n  }\r\n\r\n\r\n  userPool = new CognitoUserPool({\r\n    UserPoolId: \"us-east-2_r9mOSgn28\",\r\n    ClientId: \"4id2vq725vkn530cdcj355d0dt\",\r\n  });\r\n\r\n  state = {\r\n    email: \"\",\r\n    username: \"\",\r\n    password: \"\",\r\n    invalid: false,\r\n  };\r\n\r\n  onSubmit = (e) => {\r\n    e.preventDefault();\r\n    this.userPool.signUp(\r\n      this.state.username,\r\n      this.state.password,\r\n      [\r\n        {\r\n          Name: \"email\",\r\n          Value: this.state.email,\r\n        },\r\n      ],\r\n      null,\r\n      (err, data) => {\r\n        if (err) {\r\n          // invalid = true;\r\n          console.error(err);\r\n        } else {\r\n          // invalid = false;\r\n\r\n          let user = {\r\n            username:this.state.username,\r\n            email:this.state.email\r\n          }\r\n          let formData = new FormData();\r\n          formData.append(\"file\", JSON.stringify(user));\r\n          axios.post(this.url, formData).then((res) => {\r\n            console.log(data);\r\n            window.location.href = \"/\";\r\n          });\r\n        }\r\n      }\r\n    );\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div id=\"signUpForm\">\r\n       <div id=\"signInHead\">\r\n        Log In\r\n      </div>\r\n      <div className=\"signInLabel\">\r\n        Email\r\n      </div>\r\n        <input\r\n          type=\"email\"\r\n          className=\"signUpFormInput\"\r\n          placeholder=\"Email\"\r\n          onChange={(e) => {\r\n            let email = e.target.value;\r\n            this.setState((prevState) => ({\r\n              ...prevState,\r\n              email: email,\r\n            }));\r\n          }}\r\n        ></input>\r\n         <div className=\"signInLabel\">\r\n        Username\r\n      </div>\r\n        <input\r\n          type=\"text\"\r\n          className=\"signUpFormInput\"\r\n          placeholder=\"Username\"\r\n          onChange={(e) => {\r\n            let username = e.target.value;\r\n            this.setState((prevState) => ({\r\n              ...prevState,\r\n              username: username,\r\n            }));\r\n          }}\r\n        ></input>\r\n         <div className=\"signInLabel\">\r\n        Password\r\n      </div>\r\n        <input\r\n          type=\"password\"\r\n          className=\"signUpFormInput\"\r\n          placeholder=\"Password\"\r\n          onChange={(e) => {\r\n            let password = e.target.value;\r\n            this.setState((prevState) => ({\r\n              ...prevState,\r\n              password: password,\r\n            }));\r\n          }}\r\n        ></input>\r\n        <div id=\"submitButton\" onClick={this.onSubmit}>Submit</div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default SignUpForm;\r\n","import React, { Component } from \"react\";\r\nimport SignUpForm from '../components/signUpForm'\r\n\r\n\r\nclass SignUpPage extends Component {\r\n\r\n  state = {};\r\n\r\n  render() {\r\n    return (\r\n      <div id=\"loginPage\">\r\n        <div id=\"loginPageForm\">\r\n            <SignUpForm />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default SignUpPage;\r\n","import \"./App.scss\";\r\nimport React, { Component } from \"react\";\r\nimport { Link, Route, Switch } from \"react-router-dom\";\r\nimport Home from \"./pages/Home.jsx\";\r\nimport Guide from \"./pages/Guide\";\r\nimport CreateGuide from \"./pages/CreateGuide\";\r\nimport LoginPage from \"./pages/LoginPage\";\r\nimport SignUpPage from \"./pages/SignUpPage\";\r\nimport { logout, session, getUsername } from \"./components/Authentication\";\r\n\r\n// import {\r\n//   BrowserRouter as Router,\r\n//   Switch,\r\n//   Route,\r\n//   Link\r\n// } from \"react-router-dom\";\r\n\r\nclass App extends Component {\r\n  state = {\r\n    user: false,\r\n  };\r\n\r\n  hide(e) {\r\n    this.setState({\r\n      homeLinks: true,\r\n    });\r\n  }\r\n\r\n  // //RESET STATE ON BACK\r\n  // //or on load ... i think?\r\n  // componentDidMount(){\r\n  //   window.onpopstate = () =>{\r\n  //     this.setState({\r\n  //       test:true\r\n  //     })\r\n  //   }\r\n  // }\r\n\r\n  componentDidMount() {\r\n    session()\r\n      .then((val) => {\r\n        if (val) {\r\n          // console.log(\"USER\",val);\r\n          let { Value } = val.Attributes[2];\r\n          getUsername(Value).then((data) => {\r\n            // console.log(data);\r\n          });\r\n          this.setState({\r\n            user: true,\r\n          });\r\n        }\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div id=\"container\">\r\n        <div id=\"mainSidebar\">\r\n          <Link to=\"/\">\r\n            <img src=\"./assets/GuiaLogo1.svg\" alt=\"Logo\" id=\"mainLogo\"></img>\r\n          </Link>\r\n          {this.state.user ? (\r\n            <div className=\"signedInButtons\">\r\n              <Link to=\"/createGuide\">\r\n                <div className=\"sidebarButton bold\">Create Guide</div>\r\n              </Link>\r\n              <div className=\"sidebarButton\" onClick={logout}>\r\n                Sign Out\r\n              </div>\r\n            </div>\r\n          ) : (\r\n            <div className=\"signInButtons\">\r\n              <Link to=\"/login\">\r\n                <div className=\"sidebarButton bold\">Login</div>\r\n              </Link>\r\n              <Link to=\"/signup\">\r\n                <div className=\"sidebarButton bold\">Sign Up</div>\r\n              </Link>\r\n            </div>\r\n          )}\r\n        </div>\r\n        <div id=\"mainContainer\">\r\n          <Switch>\r\n            {/* <Route\r\n              path=\"/testUpload\"\r\n              render={(props) => <FileUpload {...props}></FileUpload>}\r\n            ></Route> */}\r\n\r\n            <Route\r\n              path=\"/login\"\r\n              render={(props) => <LoginPage {...props}></LoginPage>}\r\n            ></Route>\r\n            <Route\r\n              path=\"/signup\"\r\n              render={(props) => <SignUpPage {...props}></SignUpPage>}\r\n            ></Route>\r\n            <Route\r\n              path=\"/createGuide\"\r\n              render={(props) => <CreateGuide {...props}></CreateGuide>}\r\n            ></Route>\r\n            <Route\r\n              path=\"/guide\"\r\n              render={(props) => <Guide {...props}></Guide>}\r\n            ></Route>\r\n\r\n            <Route\r\n              path=\"/\"\r\n              render={(props) => (\r\n                <Home {...props} Hide={(e) => this.hide(e)}></Home>\r\n              )}\r\n            ></Route>\r\n          </Switch>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\nimport * as serviceWorker from \"./serviceWorker\";\r\n// import { Router } from 'react-router-dom';\r\nimport { BrowserRouter} from \"react-router-dom\";\r\n\r\nReactDOM.render(\r\n  <BrowserRouter>\r\n    <App />\r\n  </BrowserRouter>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}