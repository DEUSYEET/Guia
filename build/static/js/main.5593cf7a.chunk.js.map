{"version":3,"sources":["tools.js","components/guidePreview.jsx","pages/Home.jsx","components/deleteButton.jsx","components/voteButtons.jsx","components/commentVoteButtons.jsx","components/ProfilePic.jsx","components/Comment.jsx","components/CommentBox.jsx","components/Authentication.jsx","pages/Guide.jsx","components/fileUpload.jsx","components/guideSectionCreator.jsx","pages/CreateGuide.jsx","components/loginForm.jsx","pages/LoginPage.jsx","components/signUpForm.jsx","pages/SignUpPage.jsx","components/guideSectionEditor.jsx","pages/EditGuide.jsx","pages/Board.jsx","pages/Profile.jsx","App.js","serviceWorker.js","index.js"],"names":["exports","getVidID","url","cleanUrl","replace","trim","includes","split","deleteGuide","id","fetch","then","res","console","log","tools","require","GuidePreview","guide","props","video","videoThumbnail","className","this","image","src","alt","title","author","description","role","aria-label","scoreUp","scoreDown","Component","Home","state","guides","getAll","json","data","setState","sort","a","b","aScore","map","to","guideID","key","confirm","DeleteButton","history","useHistory","onClick","e","push","target","innerHTML","VoteButtons","updateScores","formData","FormData","vote","voteType","classList","user","append","JSON","stringify","axios","post","upUsers","onVote","downUsers","CommentVoteButtons","comment","commentID","ProfilePic","getImage","username","defaultImage","test","Comment","body","parentID","hide","reply","deleted","prompt","CommentBox","createCommentUrl","getCommentsUrl","deleteUrl","onAddComment","content","value","userComment","uploadComment","v4","updateComments","document","getElementById","boxID","onDelete","confirmDelete","permaDelete","comments","sortNew","reverse","onReply","bind","onChange","placeholder","_id","bScore","pool","CognitoUserPool","UserPoolId","ClientId","auth","Username","Password","Promise","resolve","reject","CognitoUser","Pool","AuthenticationDetails","authenticateUser","onSuccess","onFailure","err","newPasswordRequired","session","getCurrentUser","getSession","getUserAttributes","att","Session","Attributes","logout","signOut","window","location","href","getUsername","email","catch","getUserData","Guide","URLSearchParams","search","get","guideHead","guideSections","getSections","val","Value","videoId","section","submit","FileUpload","file","onChooseFile","evt","files","onUploadFile","name","handler","type","accept","guideSection","sectionID","CreateGuideSection","submitID","onSaveGuide","button","onAddSectionImg","prevState","Location","onNotSaved","width","height","CreateGuide","onAddHeadImg","sectionIndex","addSection","LogInForm","password","onSubmit","preventDefault","error","LoginPage","SignUpForm","userPool","invalid","signUp","Name","SignUpPage","EditGuideSection","EditGuide","saveUrl","getUrl","Board","Profile","onImageChange","App","homeLinks","path","render","Hide","Boolean","hostname","match","ReactDOM","navigator","serviceWorker","ready","registration","unregister","message"],"mappings":"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","file":"static/js/main.5593cf7a.chunk.js","sourcesContent":["// const cognito = require('amazon-cognito-identity-js')\r\n\r\nexports.getVidID = url=> {\r\n  let cleanUrl = url.replace(\"https://\",\"\").trim();\r\n  \r\n  if(cleanUrl.includes(\"youtu.be\")){\r\n    let splitUrl = cleanUrl.split(\"/\")\r\n    return(splitUrl[1])\r\n  } else {\r\n    let splitUrl = cleanUrl.split(\"?v=\")\r\n    let cleanSplitUrl = splitUrl[1].split(\"&\");\r\n    return(cleanSplitUrl[0])\r\n  }\r\n}\r\n\r\nexports.deleteGuide = id =>{\r\n  \r\n  let url = \"\";\r\n  if (!process.env.NODE_ENV || process.env.NODE_ENV === 'development') {\r\n    url = \"http://localhost:8080/deleteGuide?guideId=\" +id;\r\n  } else {\r\n      url = \r\n        \"http://guiabackend-env.eba-u9xxwbnm.us-west-1.elasticbeanstalk.com/deleteGuide?guideId=\" + id\r\n  }\r\n  \r\n  fetch(url).then(res=>{\r\n    console.log(res);\r\n  })\r\n}\r\n","import React, { Component } from \"react\";\r\nconst tools = require(\"../tools\");\r\n\r\nclass GuidePreview extends Component {\r\n  guide = this.props.guide;\r\n  url = this.guide.video;\r\n  videoThumbnail = (this.url ? (\"https://img.youtube.com/vi/\" + tools.getVidID(this.url) + \"/0.jpg\") : \"\");\r\n\r\n    \r\n\r\n\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"guidePreview\">\r\n        {!this.guide.image && this.url && (\r\n          <div className=\"guidePreviewImgBox\">\r\n            <img\r\n              className=\"guidePreviewImg\"\r\n              src={this.videoThumbnail}\r\n              alt={this.guide.title}\r\n            ></img>\r\n          </div>\r\n        )}\r\n        {this.guide.image && (\r\n          <div className=\"guidePreviewImgBox\">\r\n            <img\r\n              className=\"guidePreviewImg\"\r\n              src={this.guide.image}\r\n              alt={this.guide.title}\r\n            />\r\n          </div>\r\n        )}\r\n        <div className=\"guidePreviewContent\">\r\n          <div className=\"guidePreviewTitle\">{this.guide.title}</div>\r\n          <div className=\"guidePreviewAuthor\">{this.guide.author || \"Anonymous\"}</div>\r\n          <div className=\"guidePreviewDesc\">{this.guide.description}</div>\r\n          <div className=\"guidePreviewScore\"> <span role=\"img\" aria-label=\"up\">👍</span>{this.guide.scoreUp || 0} /<span role=\"img\" aria-label=\"down\"> 👎</span>{this.guide.scoreDown || 0}</div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default GuidePreview;\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport GuidePreview from \"../components/guidePreview\";\r\n\r\nclass Home extends Component {\r\n  state = {\r\n    guides: [],\r\n  };\r\n\r\n  url = \"\";\r\n\r\n  componentDidMount() {\r\n    if (!process.env.NODE_ENV || process.env.NODE_ENV === \"development\") {\r\n      this.url = \"http://localhost:8080/getAll\";\r\n    } else {\r\n      this.url =\r\n        \"http://guiabackend-env.eba-u9xxwbnm.us-west-1.elasticbeanstalk.com/getAll\";\r\n    }\r\n    // console.log(\"Mounted\")\r\n    this.getAll();\r\n  }\r\n\r\n  getAll() {\r\n    // console.log(url)\r\n    fetch(this.url)\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        // console.log(data);\r\n        this.setState({\r\n          guides: data,\r\n        });\r\n        // console.log(this.state.guides);\r\n      });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div id=\"homePage\">\r\n        <div id=\"homeTitle\">Featured Guides</div>\r\n        <div id=\"homeGuideContainer\">\r\n          {this.state.guides\r\n            .sort((a, b) => {\r\n              let aScore = a.scoreUp - a.scoreDown;\r\n              let bScore = b.scoreUp - b.scoreDown;\r\n              return bScore - aScore;\r\n            })\r\n            .map((guide) => (\r\n              <Link to={\"/guide?guideID=\" + guide.guideID} key={guide.guideID}>\r\n                <GuidePreview guide={guide} />\r\n              </Link>\r\n            ))}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default Home;\r\n","import React from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nconst tools = require(\"../tools\");\r\n\r\nlet confirm = false;\r\n\r\nconst DeleteButton = (props) => {\r\n    let history = useHistory();\r\n    function onDelete(e) {\r\n      if(confirm){\r\n        tools.deleteGuide(props.id)\r\n        history.push(\"/\");\r\n        confirm = false;\r\n      } else {\r\n        e.target.innerHTML = \"Confirm Delete\"\r\n        confirm = true;\r\n      }\r\n        // console.log(props.id)\r\n  };\r\n\r\n  return <div className=\"deleteButton\" onClick={onDelete}>Delete Guide</div>;\r\n};\r\n\r\nexport default DeleteButton;","import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nclass VoteButtons extends Component {\r\n  url = \"\";\r\n  state = {\r\n    guide: this.props.guide,\r\n    scoreUp: 0,\r\n    scoreDown: 0,\r\n  };\r\n  componentDidMount() {\r\n    if (!process.env.NODE_ENV || process.env.NODE_ENV === \"development\") {\r\n      this.url = \"http://localhost:8080/voteGuide\";\r\n    } else {\r\n      this.url =\r\n        \"http://guiabackend-env.eba-u9xxwbnm.us-west-1.elasticbeanstalk.com/voteGuide\";\r\n    }\r\n    // console.log(this.url);\r\n    this.updateScores(this.state.guide);\r\n  }\r\n\r\n  onVote(e) {\r\n    let formData = new FormData();\r\n    let vote = {\r\n      guideID: this.state.guide.guideID,\r\n      voteType: e.target.classList[0],\r\n      user: this.props.user,\r\n    };\r\n    // console.log(vote);\r\n    formData.append(\"file\", JSON.stringify(vote));\r\n    axios.post(this.url, formData).then((res) => {\r\n      //   console.log(res);\r\n      this.setState({\r\n        guide: res.data,\r\n      });\r\n      this.updateScores(res.data);\r\n      //   this.forceUpdate();\r\n    });\r\n  }\r\n\r\n  updateScores(guide) {\r\n    this.setState({\r\n      scoreUp: guide.scoreUp,\r\n      scoreDown: guide.scoreDown,\r\n    });\r\n    // console.log(guide.scoreUp,guide.scoreDown,this.state)\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"guideVoteButtons\">\r\n        <div\r\n          className={\r\n            this.state.guide.upUsers.includes(this.props.user)\r\n              ? \"guideUpvote voted\"\r\n              : \"guideUpvote\"\r\n          }\r\n        >\r\n          <span\r\n            role=\"img\"\r\n            aria-label=\"up\"\r\n            className=\"up\"\r\n            onClick={(e) => this.onVote(e)}\r\n          >\r\n            👍\r\n            {this.state.scoreUp || 0}\r\n          </span>\r\n        </div>\r\n        <div\r\n          className={\r\n            this.state.guide.downUsers.includes(this.props.user)\r\n              ? \"guideDownvote voted\"\r\n              : \"guideDownvote\"\r\n          }\r\n        >\r\n          <span\r\n            role=\"img\"\r\n            aria-label=\"down\"\r\n            className=\"down\"\r\n            onClick={(e) => this.onVote(e)}\r\n          >\r\n            👎\r\n            {this.state.guide.scoreDown || 0}\r\n          </span>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default VoteButtons;\r\n","import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nclass CommentVoteButtons extends Component {\r\n  url = \"\";\r\n  state = {\r\n    comment: this.props.comment,\r\n    scoreUp: 0,\r\n    scoreDown: 0,\r\n  };\r\n  componentDidMount() {\r\n    if (!process.env.NODE_ENV || process.env.NODE_ENV === \"development\") {\r\n      this.url = \"http://localhost:8080/voteComment\";\r\n    } else {\r\n      this.url =\r\n        \"http://guiabackend-env.eba-u9xxwbnm.us-west-1.elasticbeanstalk.com/voteComment\";\r\n    }\r\n    // console.log(this.url);\r\n    this.updateScores(this.state.comment);\r\n  }\r\n\r\n  onVote(e) {\r\n    let formData = new FormData();\r\n    let vote = {\r\n      commentID: this.state.comment.commentID,\r\n      voteType: e.target.classList[0],\r\n      user: this.props.user,\r\n    };\r\n    // console.log(vote);\r\n    formData.append(\"file\", JSON.stringify(vote));\r\n    axios.post(this.url, formData).then((res) => {\r\n      console.log(res.data);\r\n      this.setState({\r\n        comment: res.data,\r\n        scoreUp: res.data.scoreUp,\r\n        scoreDown: res.data.scoreDown,\r\n      });\r\n      this.updateScores(res.data);\r\n      //   this.forceUpdate();\r\n    });\r\n  }\r\n\r\n  updateScores(comment) {\r\n    this.setState({\r\n      scoreUp: comment.scoreUp,\r\n      scoreDown: comment.scoreDown,\r\n    });\r\n    // console.log(this.state.comment.upUsers,this.state.comment.downUsers)\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"guideVoteButtons\">\r\n        <div\r\n          className={\r\n            this.state.comment.upUsers.includes(this.props.user)\r\n              ? \"guideUpvote voted\"\r\n              : \"guideUpvote\"\r\n          }\r\n        >\r\n          <span\r\n            role=\"img\"\r\n            aria-label=\"up\"\r\n            className=\"up\"\r\n            onClick={(e) => this.onVote(e)}\r\n          >\r\n            👍\r\n            {this.state.scoreUp || 0}\r\n          </span>\r\n        </div>\r\n        <div\r\n          className={\r\n            this.state.comment.downUsers.includes(this.props.user)\r\n              ? \"guideDownvote voted\"\r\n              : \"guideDownvote\"\r\n          }\r\n        >\r\n          <span\r\n            role=\"img\"\r\n            aria-label=\"down\"\r\n            className=\"down\"\r\n            onClick={(e) => this.onVote(e)}\r\n          >\r\n            👎\r\n            {this.state.scoreDown || 0}\r\n          </span>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default CommentVoteButtons;\r\n","import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\n// import { Link } from \"react-router-dom\";\r\n// import { session, getUserData } from \"../components/Authentication\";\r\n\r\nclass ProfilePic extends Component {\r\n  url = \"\";\r\n  state = {\r\n    image: \"\",\r\n  };\r\n  componentDidMount() {\r\n    if (!process.env.NODE_ENV || process.env.NODE_ENV === \"development\") {\r\n      this.url = \"http://localhost:8080/getUserImage\";\r\n    } else {\r\n      this.url =\r\n        \"http://guiabackend-env.eba-u9xxwbnm.us-west-1.elasticbeanstalk.com/getUserImage\";\r\n    }\r\n    this.getImage();\r\n    if(this.props.test){\r\n        console.log(this.props.username)\r\n    }\r\n  }\r\n\r\n  getImage = () => {\r\n    if (this.props.username) {\r\n      let formData = new FormData();\r\n      formData.append(\"file\", JSON.stringify(this.props.username));\r\n      axios.post(this.url, formData).then((res) => {\r\n        this.setState({\r\n          image: res.data\r\n            ? res.data.image\r\n            : \"https://guia-images.s3-us-west-1.amazonaws.com/Full-Green-Tree-984x1024.png\",\r\n        });\r\n      });\r\n    }\r\n  };\r\n\r\n  defaultImage =\r\n    \"https://guia-images.s3-us-west-1.amazonaws.com/Full-Green-Tree-984x1024.png\";\r\n\r\n  render() {\r\n    return (\r\n      // <div onClick={this.getImage}>{this.props.username}</div>\r\n      //   <Link to=\"/profile\">\r\n      <div id=\"profilePic\">\r\n        <img\r\n          src={this.state.image || this.defaultImage}\r\n          className=\"userImage\"\r\n          alt={this.props.username}\r\n          onClick={this.getImage}\r\n        ></img>\r\n      </div>\r\n      //   </Link>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ProfilePic;\r\n","import React, { Component } from \"react\";\r\nimport CommentBox from \"../components/CommentBox\";\r\nimport CommentVoteButtons from \"./commentVoteButtons\";\r\nimport ProfilePic from \"./ProfilePic\";\r\n\r\nclass Comment extends Component {\r\n  comment = this.props.comment;\r\n  render() {\r\n    return (\r\n      <div className=\"comment\">\r\n      <div className=\"commentHead\">\r\n      <ProfilePic username={this.comment.author} />\r\n        <div className=\"commentAuthor\">{this.comment.author}</div>\r\n      </div>\r\n        <div className=\"commentBody\">{this.comment.body}</div>\r\n        {this.comment.author === \"[Deleted]\" ? (\r\n          \"\"\r\n        ) : (\r\n          <div className=\"commentInteractions\">\r\n          {this.props.user?(\r\n\r\n            <CommentVoteButtons\r\n              comment={this.comment}\r\n              user={this.props.username}\r\n            />\r\n          ): ( <div className=\"guideVoteButtons\">\r\n              <div>\r\n                <span role=\"img\" aria-label=\"up\" className=\"up\">\r\n                  👍\r\n                  {this.props.comment.scoreUp || 0}\r\n                </span>\r\n              </div>\r\n              <div>\r\n                <span role=\"img\" aria-label=\"down\" className=\"down\">\r\n                  👎\r\n                  {this.props.comment.scoreDown || 0}\r\n                </span>\r\n              </div>\r\n            </div>)}\r\n          </div>\r\n        )}\r\n        <CommentBox\r\n          parentID={this.comment.commentID}\r\n          user={this.props.user}\r\n          username={this.props.username}\r\n          hide={true}\r\n          reply={true}\r\n          deleted = {this.comment.author === \"[Deleted]\"}\r\n          prompt=\"Leave a reply\"\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default Comment;\r\n","import React, { Component } from \"react\";\r\nimport Comment from \"./Comment\";\r\nimport axios from \"axios\";\r\nimport { v4 } from \"uuid\";\r\n\r\nclass CommentBox extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      // box: {},\r\n      boxID: v4(),\r\n      comments: [],\r\n      userComment: \"\",\r\n      hide: this.props.hide,\r\n      confirmDelete: false,\r\n    };\r\n    this.onReply = this.onReply.bind(this);\r\n    //   this.onDelete = this.onDelete.bind(this)\r\n  }\r\n\r\n  createCommentUrl = \"\";\r\n  getCommentsUrl = \"\";\r\n  deleteUrl = \"\";\r\n  componentDidMount() {\r\n    if (!process.env.NODE_ENV || process.env.NODE_ENV === \"development\") {\r\n      this.createCommentUrl = \"http://localhost:8080/uploadComment\";\r\n      this.deleteUrl = \"http://localhost:8080/deleteComment\";\r\n      this.getCommentsUrl = \"http://localhost:8080/getComments\";\r\n    } else {\r\n      this.createCommentUrl =\r\n        \"http://guiabackend-env.eba-u9xxwbnm.us-west-1.elasticbeanstalk.com/uploadComment\";\r\n      this.deleteUrl =\r\n        \"http://guiabackend-env.eba-u9xxwbnm.us-west-1.elasticbeanstalk.com/deleteComment\";\r\n      this.getCommentsUrl =\r\n        \"http://guiabackend-env.eba-u9xxwbnm.us-west-1.elasticbeanstalk.com/getComments\";\r\n    }\r\n    // console.log(\"mounting\");\r\n    this.updateComments();\r\n  }\r\n\r\n  onAddComment = (e) => {\r\n    let content = e.target.value;\r\n    this.setState({\r\n      userComment: content,\r\n    });\r\n  };\r\n\r\n  uploadComment = () => {\r\n    let formData = new FormData();\r\n    formData.append(\r\n      \"file\",\r\n      JSON.stringify({\r\n        parentID: this.props.parentID,\r\n        commentID: v4(),\r\n        author: this.props.username,\r\n        body: this.state.userComment,\r\n      })\r\n    );\r\n    axios.post(this.createCommentUrl, formData).then((res) => {\r\n      this.updateComments();\r\n      document.getElementById(this.state.boxID).value = \"\";\r\n    });\r\n  };\r\n\r\n  onDelete = (e) => {\r\n    if (this.state.confirmDelete) {\r\n      let formData = new FormData();\r\n      formData.append(\r\n        \"file\",\r\n        JSON.stringify({\r\n          parentID: this.props.parentID,\r\n          commentID: e.target.id,\r\n          author: \"[Deleted]\",\r\n          body: \"[Deleted]\",\r\n          // scoreDown: -1000,\r\n        })\r\n      );\r\n      // console.log(this.props.permaDelete);\r\n      if (this.props.permaDelete) {\r\n        axios.post(this.deleteUrl, formData).then((res) => {\r\n          //   console.log(\"delete\");\r\n          this.updateComments();\r\n        });\r\n      } else {\r\n        axios.post(this.createCommentUrl, formData).then((res) => {\r\n          //   console.log(\"delete\");\r\n          this.updateComments();\r\n        });\r\n      }\r\n          this.setState({\r\n            confirmDelete : false\r\n          })\r\n    } else{\r\n        e.target.innerHTML = \"Confirm Delete\"\r\n        e.target.classList = \"deleteComment confirm\"\r\n        this.setState({\r\n          confirmDelete : true\r\n        })\r\n    }\r\n  };\r\n\r\n  updateComments = () => {\r\n    let formData = new FormData();\r\n    formData.append(\r\n      \"file\",\r\n      JSON.stringify({\r\n        parentID: this.props.parentID,\r\n      })\r\n    );\r\n    axios.post(this.getCommentsUrl, formData).then((res) => {\r\n      this.setState(\r\n        {\r\n          comments: [],\r\n          hide: this.props.hide,\r\n        },\r\n        () => {\r\n          this.setState({\r\n            comments: this.props.sortNew ? res.data.reverse() : res.data,\r\n            hide: this.props.hide,\r\n          });\r\n        }\r\n      );\r\n    });\r\n  };\r\n\r\n  onReply() {\r\n    this.setState({\r\n      hide: false,\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"commentBox\">\r\n        {this.props.user && !this.state.hide ? (\r\n          <div className=\"commentInput\">\r\n            <textarea\r\n              onChange={this.onAddComment}\r\n              className=\"commentTextArea\"\r\n              placeholder={this.props.prompt}\r\n              id={this.state.boxID}\r\n            />\r\n            <div className=\"commentButton\" onClick={this.uploadComment}>\r\n              Submit\r\n            </div>\r\n          </div>\r\n        ) : this.props.user && !this.props.deleted ? (\r\n          <div\r\n            className=\"replyButton\"\r\n            id={\"reply\" + this.state.boxID}\r\n            onClick={this.onReply}\r\n          >\r\n            Reply\r\n          </div>\r\n        ) : (\r\n          \"\"\r\n        )}\r\n        <div className={this.props.reply ? \"comments replies\" : \"comments\"}>\r\n          {this.props.sortNew\r\n            ? this.state.comments.map((comment) => (\r\n                <div key={comment._id} className=\"commentContainer\">\r\n                  {this.props.username === comment.author ? (\r\n                    <div\r\n                      className=\"deleteComment\"\r\n                      id={comment.commentID}\r\n                      onClick={this.onDelete}\r\n                    >\r\n                      [X]\r\n                    </div>\r\n                  ) : (\r\n                    \"\"\r\n                  )}\r\n                  <Comment comment={comment} {...this.props} />\r\n                </div>\r\n              ))\r\n            : this.state.comments\r\n                .sort((a, b) => {\r\n                  let aScore = a.scoreUp - a.scoreDown;\r\n                  let bScore = b.scoreUp - b.scoreDown;\r\n                  console.log(bScore - aScore);\r\n                  return bScore - aScore;\r\n                })\r\n                .map((comment) => (\r\n                  <div key={comment._id} className=\"commentContainer\">\r\n                    {this.props.username === comment.author ? (\r\n                      <div\r\n                        className=\"deleteComment\"\r\n                        id={comment.commentID}\r\n                        onClick={this.onDelete}\r\n                      >\r\n                        [X]\r\n                      </div>\r\n                    ) : (\r\n                      \"\"\r\n                    )}\r\n                    <Comment comment={comment} {...this.props} />\r\n                  </div>\r\n                ))}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default CommentBox;\r\n","import {\r\n  CognitoUser,\r\n  AuthenticationDetails,\r\n  CognitoUserPool,\r\n} from \"amazon-cognito-identity-js\";\r\n\r\nimport axios from \"axios\";\r\n\r\nconst pool = new CognitoUserPool({\r\n  UserPoolId: \"us-east-2_r9mOSgn28\",\r\n  ClientId: \"4id2vq725vkn530cdcj355d0dt\",\r\n});\r\n\r\nconst auth = async (Username, Password) =>\r\n  await new Promise((resolve, reject) => {\r\n    const user = new CognitoUser({\r\n      Username,\r\n      Pool: pool,\r\n    });\r\n    const auth = new AuthenticationDetails({\r\n      Username,\r\n      Password,\r\n    });\r\n\r\n    user.authenticateUser(auth, {\r\n      onSuccess: (data) => {\r\n        resolve(data);\r\n      },\r\n      onFailure: (err) => {\r\n        reject(err);\r\n      },\r\n      newPasswordRequired: (data) => {\r\n        resolve(data);\r\n      },\r\n    });\r\n  });\r\n\r\nconst session = async () =>\r\n  await new Promise((resolve, reject) => {\r\n    const user = pool.getCurrentUser();\r\n    if (user) {\r\n      user.getSession((err, session) => {\r\n        if (err) {\r\n          reject(err);\r\n        } else {\r\n          user.getUserAttributes((err, att) => {\r\n            if (err) {\r\n              reject(err);\r\n            } else {\r\n              resolve({ Session: session, Attributes: att });\r\n            }\r\n          });\r\n        }\r\n      });\r\n    } else {\r\n      reject();\r\n    }\r\n  });\r\n\r\nconst logout = () => {\r\n  const user = pool.getCurrentUser();\r\n  if (user) {\r\n    user.signOut();\r\n    window.location.href = \"/\";\r\n  }\r\n};\r\n\r\nconst getUsername = async (email) =>\r\n  await new Promise((resolve, reject) => {\r\n    let url = \"\";\r\n    if (!process.env.NODE_ENV || process.env.NODE_ENV === \"development\") {\r\n      url = \"http://localhost:8080/getUser\";\r\n    } else {\r\n      url =\r\n        \"http://guiabackend-env.eba-u9xxwbnm.us-west-1.elasticbeanstalk.com/getUser\";\r\n    }\r\n\r\n    let formData = new FormData();\r\n    formData.append(\"file\", JSON.stringify({ email: email }));\r\n\r\n    axios\r\n      .post(url, formData)\r\n      .then((res) => {\r\n        let username = res.data.username;\r\n        // console.log(username);\r\n        resolve(username);\r\n      })\r\n      .catch((err) => reject(err));\r\n  });\r\n\r\nconst getUserData = async (email) =>\r\n  await new Promise((resolve, reject) => {\r\n    let url = \"\";\r\n    if (!process.env.NODE_ENV || process.env.NODE_ENV === \"development\") {\r\n      url = \"http://localhost:8080/getUser\";\r\n    } else {\r\n      url =\r\n        \"http://guiabackend-env.eba-u9xxwbnm.us-west-1.elasticbeanstalk.com/getUser\";\r\n    }\r\n\r\n    let formData = new FormData();\r\n    formData.append(\"file\", JSON.stringify({ email: email }));\r\n\r\n    axios\r\n      .post(url, formData)\r\n      .then((res) => {\r\n        resolve(res.data);\r\n      })\r\n      .catch((err) => reject(err));\r\n  });\r\n\r\nexport { auth, session, logout, getUsername, getUserData };\r\n","import React, { Component } from \"react\";\r\nimport YouTube from \"react-youtube\";\r\nimport DeleteButton from \"../components/deleteButton\";\r\nimport VoteButtons from \"../components/voteButtons\";\r\nimport CommentBox from \"../components/CommentBox\";\r\nimport { session, getUserData } from \"../components/Authentication\";\r\nimport { Link } from \"react-router-dom\";\r\nimport ProfilePic from \"../components/ProfilePic\";\r\n\r\nconst tools = require(\"../tools\");\r\n\r\nclass Guide extends Component {\r\n  id = new URLSearchParams(this.props.location.search).get(\"guideID\");\r\n  url = \"\";\r\n\r\n  state = {\r\n    guideHead: {},\r\n    guideSections: [],\r\n    user: false,\r\n    username: \"\",\r\n    image:\"\",\r\n  };\r\n\r\n  getSections() {\r\n    // console.log(this.url);\r\n    fetch(this.url)\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        // console.log(data);\r\n        this.setState({\r\n          guideHead: data[0],\r\n          guideSections: data[1],\r\n        });\r\n        // console.log(this.state);\r\n      });\r\n  }\r\n\r\n  componentDidMount() {\r\n    if (!process.env.NODE_ENV || process.env.NODE_ENV === \"development\") {\r\n      this.url = \"http://localhost:8080/getGuide?guideId=\" + this.id;\r\n    } else {\r\n      this.url =\r\n        \"http://guiabackend-env.eba-u9xxwbnm.us-west-1.elasticbeanstalk.com/getGuide?guideId=\" +\r\n        this.id;\r\n    }\r\n    // console.log(this.url)\r\n    // console.log(this.props.history)\r\n    this.getSections();\r\n    session()\r\n      .then((val) => {\r\n        if (val) {\r\n          let { Value } = val.Attributes[2];\r\n          getUserData(Value).then((data) => {\r\n            this.setState({\r\n              username: data.username,\r\n              user: true,\r\n              image:data.image\r\n            });\r\n            // console.log(this.state.username);\r\n          });\r\n        }\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div id=\"guide\">\r\n        <div id=\"guideHead\">\r\n          {this.state.user &&\r\n          this.state.username === this.state.guideHead.author ? (\r\n            <div className=\"selfButtons\">\r\n              <Link to={\"/edit?guideID=\" + this.id}>\r\n                <div className=\"editButton\">Edit Guide</div>\r\n              </Link>\r\n              <DeleteButton id={this.id} />\r\n            </div>\r\n          ) : (\r\n            \"\"\r\n          )}\r\n          <div id=\"guideTitle\">{this.state.guideHead.title}</div>\r\n          <div id=\"guideAuthor\">\r\n            <ProfilePic username={this.state.guideHead.author} test={true} key={this.state.guideHead.author} />\r\n            {this.state.guideHead.author}\r\n          </div>\r\n          {this.state.user ? (\r\n            <VoteButtons\r\n              guide={this.state.guideHead}\r\n              user={this.state.username}\r\n            />\r\n          ) : (\r\n            <div className=\"guideVoteButtons\">\r\n              <div>\r\n                <span role=\"img\" aria-label=\"up\" className=\"up\">\r\n                  👍\r\n                  {this.state.guideHead.scoreUp || 0}\r\n                </span>\r\n              </div>\r\n              <div>\r\n                <span role=\"img\" aria-label=\"down\" className=\"down\">\r\n                  👎\r\n                  {this.state.guideHead.scoreDown || 0}\r\n                </span>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {!this.state.guideHead.image && this.state.guideHead.video && (\r\n            <YouTube\r\n              id=\"guideHeadVideo\"\r\n              videoId={tools.getVidID(this.state.guideHead.video)}\r\n            ></YouTube>\r\n          )}\r\n          {this.state.guideHead.image && (\r\n            <img\r\n              id=\"guideHeadImg\"\r\n              src={this.state.guideHead.image}\r\n              alt={this.state.guideHead.title}\r\n            />\r\n          )}\r\n\r\n          <div id=\"guideHeadDesc\">{this.state.guideHead.description}</div>\r\n        </div>\r\n\r\n        <div id=\"guideSectionContainer\">\r\n          {this.state.guideSections.map((section) => (\r\n            <div className=\"guideSection\" key={section._id}>\r\n              <div className=\"guideSectionTitle\">{section.title}</div>\r\n\r\n              {!section.image && section.video && (\r\n                <YouTube\r\n                  className=\"guideSectionVideo\"\r\n                  videoId={tools.getVidID(section.video)}\r\n                ></YouTube>\r\n              )}\r\n              {section.image && (\r\n                <img\r\n                  className=\"guideSectionImg\"\r\n                  src={section.image}\r\n                  alt={section.title}\r\n                />\r\n              )}\r\n\r\n              <div className=\"guideSectionDesc\">{section.description}</div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n        <CommentBox\r\n          parentID={this.id}\r\n          user={this.state.user}\r\n          username={this.state.username}\r\n          hide={false}\r\n          submit={false}\r\n          prompt=\"Leave a comment\"\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Guide;\r\n","import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport { v4 } from \"uuid\";\r\n\r\n\r\nclass FileUpload extends Component {\r\n  url=\"\";\r\n  componentDidMount(){\r\n    if (!process.env.NODE_ENV || process.env.NODE_ENV === 'development') {\r\n      this.url = \"http://localhost:8080/uploadImage\";\r\n      } else {\r\n        this.url = \"http://guiabackend-env.eba-u9xxwbnm.us-west-1.elasticbeanstalk.com/uploadImage\";\r\n      }\r\n  }\r\n  \r\n  state = {\r\n    file: null,\r\n    id:v4()\r\n  };\r\n\r\n  onChooseFile = (evt) => {\r\n    this.setState({\r\n      file: evt.target.files[0],\r\n    });\r\n    document.getElementById(this.state.id).classList = \"unsavedButton\"\r\n    document.getElementById(this.state.id).innerHTML = \"Save Image\"\r\n  };\r\n  \r\n  onUploadFile = () => {\r\n    let file = new FormData();\r\n    file.append(\"file\",this.state.file,this.state.file.name)\r\n    axios.post(this.url,file).then(res=>{\r\n      this.props.handler(res);\r\n      document.getElementById(this.state.id).classList = \"saveFileButton\"\r\n    document.getElementById(this.state.id).innerHTML = \"Image Saved\"\r\n    });\r\n  };\r\n\r\n\r\n\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"fileUpload\">\r\n        <input type=\"file\" accept=\"image/*\" onChange = {this.onChooseFile}></input>\r\n        <div className=\"saveFileButton\" onClick={this.onUploadFile} id={this.state.id}>Save Image</div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default FileUpload;\r\n","import React, { Component } from \"react\";\r\nimport FileUpload from \"../components/fileUpload\";\r\nimport axios from \"axios\";\r\nimport { v4 } from \"uuid\";\r\n\r\nclass guideSection {\r\n  constructor(id) {\r\n    this.guideID = id;\r\n    this.sectionID = v4();\r\n    this.title = null;\r\n    this.description = null;\r\n    this.image = null;\r\n    this.video = null;\r\n  }\r\n}\r\n\r\nclass CreateGuideSection extends Component {\r\n  url = \"\";\r\n  componentDidMount() {\r\n    if (!process.env.NODE_ENV || process.env.NODE_ENV === \"development\") {\r\n      this.url = \"http://localhost:8080/uploadGuideSection\";\r\n    } else {\r\n      this.url =\r\n        \"http://guiabackend-env.eba-u9xxwbnm.us-west-1.elasticbeanstalk.com/uploadGuideSection\";\r\n    }\r\n  }\r\n  state = {\r\n    guideSection: new guideSection(this.props.guideID),\r\n    submitID: v4(),\r\n  };\r\n\r\n  onSaveGuide = () => {\r\n    console.log(this.state.guideSection);\r\n    let formData = new FormData();\r\n    formData.append(\"file\", JSON.stringify(this.state.guideSection));\r\n    axios.post(this.url, formData).then((res) => {\r\n      let button = document.getElementById(this.state.submitID);\r\n      button.classList = \"saveButton\";\r\n      button.innerHTML = \"Saved\";\r\n    });\r\n  };\r\n\r\n  onAddSectionImg = (res) => {\r\n    this.setState((prevState) => ({\r\n      guideSection: {\r\n        ...prevState.guideSection,\r\n        image: res.data.Location,\r\n      },\r\n    }));\r\n\r\n    console.log(this.state.guideSection);\r\n  };\r\n\r\n  onNotSaved = () => {\r\n    let button = document.getElementById(this.state.submitID);\r\n    button.classList = \"unsavedButton\";\r\n    button.innerHTML = \"Save Changes\";\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"guideCreatorSection\">\r\n        <div className=\"guideSectionCreatorLabel\">Add Section Title</div>\r\n        <input\r\n          type=\"text\"\r\n          className=\"guideCreatorSectionInput\"\r\n          placeholder=\"Section Title\"\r\n          onChange={(e) => {\r\n            let title = e.target.value;\r\n            this.setState((prevState) => ({\r\n              guideSection: {\r\n                ...prevState.guideSection,\r\n                title: title,\r\n              },\r\n            }));\r\n            this.onNotSaved();\r\n          }}\r\n        ></input>\r\n        <div className=\"guideSectionCreatorLabel\">Add Section Description</div>\r\n        <textarea\r\n          type=\"text\"\r\n          className=\"guideCreatorSectionInput\"\r\n          placeholder=\"Description\"\r\n          onChange={(e) => {\r\n            let description = e.target.value;\r\n            this.setState((prevState) => ({\r\n              guideSection: {\r\n                ...prevState.guideSection,\r\n                description: description,\r\n              },\r\n            }));\r\n            this.onNotSaved();\r\n          }}\r\n        ></textarea>\r\n        <div className=\"guideCreatorSectionAddImage\">\r\n          <div className=\"guideSectionCreatorLabel\">[Optional] Add Image</div>\r\n          {this.state.guideSection.image ? <img\r\n              className=\"guideCreatorSectionAddImagePreview\"\r\n              src={this.state.guideSection.image}\r\n              width=\"100px\"\r\n              height=\"100px\"\r\n              alt=\"Preview\"\r\n            ></img> : \"\"}\r\n          <FileUpload handler={this.onAddSectionImg} />\r\n\r\n          <div className=\"guideSectionCreatorLabel\">[Optional] Add Video (takes place of image)</div>\r\n          <input\r\n            type=\"text\"\r\n            className=\"guideCreatorSectionInput\"\r\n            placeholder=\"Youtube URL\"\r\n            onChange={(e) => {\r\n              let url = e.target.value;\r\n              this.setState((prevState) => ({\r\n                guideSection: {\r\n                  ...prevState.guideSection,\r\n                  video: url,\r\n                },\r\n              }));\r\n              this.onNotSaved();\r\n            }}\r\n          ></input>\r\n\r\n        </div>\r\n        <div\r\n          className=\"saveButton\"\r\n          id={this.state.submitID}\r\n          onClick={this.onSaveGuide}\r\n        >\r\n          Section Saved\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default CreateGuideSection;\r\n","import { v4 } from \"uuid\";\r\nimport React, { Component } from \"react\";\r\nimport FileUpload from \"../components/fileUpload\";\r\nimport CreateGuideSection from \"../components/guideSectionCreator\";\r\nimport axios from \"axios\";\r\nimport { session, getUsername } from \"../components/Authentication\";\r\n\r\nlet user = \"\";\r\nsession()\r\n  .then((val) => {\r\n    if (val) {\r\n      let { Value } = val.Attributes[2];\r\n      getUsername(Value).then((data) => {\r\n        user = data;\r\n      });\r\n    }\r\n  })\r\n  .catch((err) => console.log(err));\r\n\r\nclass guideHead {\r\n  constructor() {\r\n    this.guideID = v4();\r\n    this.author = user;\r\n    this.title = \"\";\r\n    this.description = \"\";\r\n    this.image = \"\";\r\n    this.video = \"\";\r\n    this.scoreUp = 0;\r\n    this.scoreDown = 0;\r\n  }\r\n}\r\n\r\n\r\nclass CreateGuide extends Component {\r\n  state = {\r\n    guideHead: new guideHead(),\r\n    guideSections: [],\r\n  };\r\n\r\n  url = \"\";\r\n  componentDidMount() {\r\n    if (!process.env.NODE_ENV || process.env.NODE_ENV === \"development\") {\r\n      this.url = \"http://localhost:8080/uploadGuideHead\";\r\n    } else {\r\n      this.url =\r\n        \"http://guiabackend-env.eba-u9xxwbnm.us-west-1.elasticbeanstalk.com/uploadGuideHead\";\r\n    }\r\n    // console.log(this.url)\r\n\r\n  }\r\n\r\n  onSaveGuide = () => {\r\n    console.log(this.state.guideHead);\r\n    let formData = new FormData();\r\n    formData.append(\"file\", JSON.stringify(this.state.guideHead));\r\n    axios.post(this.url, formData).then((res) => {\r\n      let button = document.getElementById(\"saveHeadButton\");\r\n      button.classList = \"saveButton\";\r\n      button.innerHTML = \"Section Saved\";\r\n    });\r\n  };\r\n\r\n  onAddHeadImg = (res) => {\r\n    this.setState((prevState) => ({\r\n      guideHead: {\r\n        ...prevState.guideHead,\r\n        image: res.data.Location,\r\n      },\r\n    }));\r\n\r\n    console.log(this.state.guideHead);\r\n  };\r\n\r\n  onNotSaved = () => {\r\n    let button = document.getElementById(\"saveHeadButton\");\r\n    button.classList = \"unsavedButton\";\r\n    button.innerHTML = \"Save Changes\";\r\n  };\r\n\r\n  sectionIndex = 0;\r\n  addSection = () => {\r\n    this.setState((prevState) => ({\r\n      guideHead: {\r\n        ...prevState.guideHead,\r\n      },\r\n      guideSections: [\r\n        ...prevState.guideSections,\r\n        { key: this.sectionIndex, guideID: this.state.guideHead.guideID },\r\n      ],\r\n    }));\r\n    this.sectionIndex++;\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div id=\"guideCreator\">\r\n        {/* <div className=\"id\">{this.state.guideHead.guideID}</div> */}\r\n        <div id=\"guideCreatorHead\">\r\n          <div className=\"guideCreatorLabel\">Add Title</div>\r\n          <input\r\n            type=\"text\"\r\n            className=\"guideCreatorHeadInput\"\r\n            placeholder=\"Title\"\r\n            onChange={(e) => {\r\n              console.log(this.state.guideHead.author);\r\n              let title = e.target.value;\r\n              this.setState((prevState) => ({\r\n                guideHead: {\r\n                  ...prevState.guideHead,\r\n                  title: title,\r\n                },\r\n              }));\r\n              this.onNotSaved();\r\n            }}\r\n          ></input>\r\n          <div className=\"guideCreatorLabel\">Add Description</div>\r\n          <textarea\r\n            type=\"text\"\r\n            className=\"guideCreatorHeadInput\"\r\n            placeholder=\"Description\"\r\n            onChange={(e) => {\r\n              let description = e.target.value;\r\n              this.setState((prevState) => ({\r\n                guideHead: {\r\n                  ...prevState.guideHead,\r\n                  description: description,\r\n                },\r\n              }));\r\n              this.onNotSaved();\r\n            }}\r\n          ></textarea>\r\n          <div className=\"guideCreatorHeadAddImage\">\r\n            <div className=\"guideCreatorLabel\">[Optional] Add Image</div>\r\n            {this.state.guideHead.image ? <img\r\n              className=\"guideCreatorHeadAddImagePreview\"\r\n              src={this.state.guideHead.image}\r\n              width=\"100px\"\r\n              height=\"100px\"\r\n              alt=\"Preview\"\r\n            ></img> : \"\"}\r\n            <FileUpload handler={this.onAddHeadImg} />\r\n            <div className=\"guideCreatorLabel\">\r\n              [Optional] Add Video (takes place of image)\r\n            </div>\r\n            <input\r\n              type=\"text\"\r\n              className=\"guideCreatorHeadInput\"\r\n              placeholder=\"Youtube URL\"\r\n              onChange={(e) => {\r\n                let url = e.target.value;\r\n                this.setState((prevState) => ({\r\n                  guideHead: {\r\n                    ...prevState.guideHead,\r\n                    video: url,\r\n                  },\r\n                }));\r\n                this.onNotSaved();\r\n              }}\r\n            ></input>\r\n          </div>\r\n          <div\r\n            className=\"saveButton\"\r\n            id=\"saveHeadButton\"\r\n            onClick={this.onSaveGuide}\r\n          >\r\n            Section Saved\r\n          </div>\r\n        </div>\r\n        <div className=\"guideCreatorSections\">\r\n          {this.state.guideSections.map((section) => (\r\n            <CreateGuideSection key={section.key} guideID={section.guideID} />\r\n          ))}\r\n        </div>\r\n        <div className=\"addSectionButton\" onClick={this.addSection}>\r\n          Add Section\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default CreateGuide;\r\n","import React, { Component } from \"react\";\r\nimport {auth} from './Authentication'\r\n\r\nclass LogInForm extends Component {\r\n  state = {\r\n    username: \"\",\r\n    password: \"\",\r\n  };\r\n\r\n  onSubmit = (e) => {\r\n    e.preventDefault();\r\n    auth(this.state.username,this.state.password).then(data=>{\r\n      // console.log(\"login\",data)\r\n    window.location.href= \"/\"\r\n\r\n    }).catch(err=>{\r\n      console.error(\"error\",err)\r\n    })\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div id=\"signUpForm\">\r\n      <div id=\"signInHead\">\r\n        Log In\r\n      </div>\r\n      <div className=\"signInLabel\">\r\n        Username\r\n      </div>\r\n        <input\r\n          type=\"text\"\r\n          className=\"signUpFormInput\"\r\n          placeholder=\"Username\"\r\n          onChange={(e) => {\r\n            let username = e.target.value;\r\n            this.setState((prevState) => ({\r\n              ...prevState,\r\n              username: username,\r\n            }));\r\n          }}\r\n        ></input>\r\n              <div className=\"signInLabel\">\r\n        Password\r\n      </div>\r\n        <input\r\n          type=\"password\"\r\n          className=\"signUpFormInput\"\r\n          placeholder=\"Password\"\r\n          onChange={(e) => {\r\n            let password = e.target.value;\r\n            this.setState((prevState) => ({\r\n              ...prevState,\r\n              password: password,\r\n            }));\r\n          }}\r\n        ></input>\r\n        <div id=\"submitButton\" onClick={this.onSubmit}>Submit</div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default LogInForm;\r\n","import React, { Component } from \"react\";\r\nimport LogInForm from '../components/loginForm'\r\n\r\n\r\nclass LoginPage extends Component {\r\n\r\n  state = {};\r\n\r\n  render() {\r\n    return (\r\n      <div id=\"loginPage\">\r\n        <div id=\"loginPageForm\">\r\n            <LogInForm />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default LoginPage;\r\n","import { CognitoUserPool } from \"amazon-cognito-identity-js\";\r\nimport React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\n\r\n// const tools = require(\"../tools\");\r\n\r\nclass SignUpForm extends Component {\r\n  url=\"\";\r\n  componentDidMount(){\r\n    if (!process.env.NODE_ENV || process.env.NODE_ENV === 'development') {\r\n      this.url = \"http://localhost:8080/createUser\";\r\n      } else {\r\n        this.url = \"http://guiabackend-env.eba-u9xxwbnm.us-west-1.elasticbeanstalk.com/createUser\";\r\n      }\r\n  }\r\n\r\n\r\n  userPool = new CognitoUserPool({\r\n    UserPoolId: \"us-east-2_r9mOSgn28\",\r\n    ClientId: \"4id2vq725vkn530cdcj355d0dt\",\r\n  });\r\n\r\n  state = {\r\n    email: \"\",\r\n    username: \"\",\r\n    password: \"\",\r\n    invalid: false,\r\n  };\r\n\r\n  onSubmit = (e) => {\r\n    e.preventDefault();\r\n    this.userPool.signUp(\r\n      this.state.username,\r\n      this.state.password,\r\n      [\r\n        {\r\n          Name: \"email\",\r\n          Value: this.state.email,\r\n        },\r\n      ],\r\n      null,\r\n      (err, data) => {\r\n        if (err) {\r\n          // invalid = true;\r\n          console.error(err);\r\n        } else {\r\n          // invalid = false;\r\n\r\n          let user = {\r\n            username:this.state.username,\r\n            email:this.state.email\r\n          }\r\n          let formData = new FormData();\r\n          formData.append(\"file\", JSON.stringify(user));\r\n          axios.post(this.url, formData).then((res) => {\r\n            console.log(data);\r\n            window.location.href = \"/\";\r\n          });\r\n        }\r\n      }\r\n    );\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div id=\"signUpForm\">\r\n       <div id=\"signInHead\">\r\n        Log In\r\n      </div>\r\n      <div className=\"signInLabel\">\r\n        Email\r\n      </div>\r\n        <input\r\n          type=\"email\"\r\n          className=\"signUpFormInput\"\r\n          placeholder=\"Email\"\r\n          onChange={(e) => {\r\n            let email = e.target.value;\r\n            this.setState((prevState) => ({\r\n              ...prevState,\r\n              email: email,\r\n            }));\r\n          }}\r\n        ></input>\r\n         <div className=\"signInLabel\">\r\n        Username\r\n      </div>\r\n        <input\r\n          type=\"text\"\r\n          className=\"signUpFormInput\"\r\n          placeholder=\"Username\"\r\n          onChange={(e) => {\r\n            let username = e.target.value;\r\n            this.setState((prevState) => ({\r\n              ...prevState,\r\n              username: username,\r\n            }));\r\n          }}\r\n        ></input>\r\n         <div className=\"signInLabel\">\r\n        Password\r\n      </div>\r\n        <input\r\n          type=\"password\"\r\n          className=\"signUpFormInput\"\r\n          placeholder=\"Password\"\r\n          onChange={(e) => {\r\n            let password = e.target.value;\r\n            this.setState((prevState) => ({\r\n              ...prevState,\r\n              password: password,\r\n            }));\r\n          }}\r\n        ></input>\r\n        <div id=\"submitButton\" onClick={this.onSubmit}>Submit</div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default SignUpForm;\r\n","import React, { Component } from \"react\";\r\nimport SignUpForm from '../components/signUpForm'\r\n\r\n\r\nclass SignUpPage extends Component {\r\n\r\n  state = {};\r\n\r\n  render() {\r\n    return (\r\n      <div id=\"loginPage\">\r\n        <div id=\"loginPageForm\">\r\n            <SignUpForm />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default SignUpPage;\r\n","import React, { Component } from \"react\";\r\nimport FileUpload from \"../components/fileUpload\";\r\nimport axios from \"axios\";\r\nimport { v4 } from \"uuid\";\r\n\r\nclass EditGuideSection extends Component {\r\n    state = {\r\n      guideSection: this.props.section,\r\n      submitID: v4(),\r\n    };\r\n\r\n  url = \"\";\r\n  componentDidMount() {\r\n    if (!process.env.NODE_ENV || process.env.NODE_ENV === \"development\") {\r\n      this.url = \"http://localhost:8080/uploadGuideSection\";\r\n    } else {\r\n      this.url =\r\n        \"http://guiabackend-env.eba-u9xxwbnm.us-west-1.elasticbeanstalk.com/uploadGuideSection\";\r\n    }\r\n    console.log(this.state)\r\n  }\r\n\r\n  onSaveGuide = () => {\r\n    console.log(this.state.guideSection);\r\n    let formData = new FormData();\r\n    formData.append(\"file\", JSON.stringify(this.state.guideSection));\r\n    axios.post(this.url, formData).then((res) => {\r\n      let button = document.getElementById(this.state.submitID);\r\n      button.classList = \"saveButton\";\r\n      button.innerHTML = \"Saved\";\r\n    });\r\n  };\r\n\r\n  onAddSectionImg = (res) => {\r\n    this.setState((prevState) => ({\r\n      guideSection: {\r\n        ...prevState.guideSection,\r\n        image: res.data.Location,\r\n      },\r\n    }));\r\n\r\n    console.log(this.state.guideSection);\r\n  };\r\n\r\n  onNotSaved = () => {\r\n    let button = document.getElementById(this.state.submitID);\r\n    button.classList = \"unsavedButton\";\r\n    button.innerHTML = \"Save Changes\";\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"guideCreatorSection\">\r\n        <div className=\"guideSectionCreatorLabel\">Add Section Title</div>\r\n        <input\r\n          type=\"text\"\r\n          className=\"guideCreatorSectionInput\"\r\n          placeholder=\"Section Title\"\r\n          value = {this.state.guideSection.title}\r\n          onChange={(e) => {\r\n            let title = e.target.value;\r\n            this.setState((prevState) => ({\r\n              guideSection: {\r\n                ...prevState.guideSection,\r\n                title: title,\r\n              },\r\n            }));\r\n            this.onNotSaved();\r\n          }}\r\n        ></input>\r\n        <div className=\"guideSectionCreatorLabel\">Add Section Description</div>\r\n        <textarea\r\n          type=\"text\"\r\n          className=\"guideCreatorSectionInput\"\r\n          placeholder=\"Description\"\r\n          value = {this.state.guideSection.description || \"\"}\r\n          onChange={(e) => {\r\n            let description = e.target.value;\r\n            this.setState((prevState) => ({\r\n              guideSection: {\r\n                ...prevState.guideSection,\r\n                description: description,\r\n              },\r\n            }));\r\n            this.onNotSaved();\r\n          }}\r\n        ></textarea>\r\n        <div className=\"guideCreatorSectionAddImage\">\r\n          <div className=\"guideSectionCreatorLabel\">[Optional] Add Image</div>\r\n          {this.state.guideSection.image ? <img\r\n              className=\"guideCreatorSectionAddImagePreview\"\r\n              src={this.state.guideSection.image}\r\n              width=\"100px\"\r\n              height=\"100px\"\r\n              alt=\"Preview\"\r\n            ></img> : \"\"}\r\n          <FileUpload handler={this.onAddSectionImg} />\r\n\r\n          <div className=\"guideSectionCreatorLabel\">[Optional] Add Video (takes place of image)</div>\r\n          <input\r\n            type=\"text\"\r\n            className=\"guideCreatorSectionInput\"\r\n            placeholder=\"Youtube URL\"\r\n          value = {this.state.guideSection.video || \"\"}\r\n            onChange={(e) => {\r\n              let url = e.target.value;\r\n              this.setState((prevState) => ({\r\n                guideSection: {\r\n                  ...prevState.guideSection,\r\n                  video: url,\r\n                },\r\n              }));\r\n              this.onNotSaved();\r\n            }}\r\n          ></input>\r\n\r\n        </div>\r\n        <div\r\n          className=\"saveButton\"\r\n          id={this.state.submitID}\r\n          onClick={this.onSaveGuide}\r\n        >\r\n          Section Saved\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default EditGuideSection;\r\n","import { v4 } from \"uuid\";\r\nimport React, { Component } from \"react\";\r\nimport FileUpload from \"../components/fileUpload\";\r\nimport axios from \"axios\";\r\nimport { session, getUsername } from \"../components/Authentication\";\r\nimport EditGuideSection from \"../components/guideSectionEditor\";\r\n\r\nlet user = \"\";\r\nsession()\r\n  .then((val) => {\r\n    if (val) {\r\n      let { Value } = val.Attributes[2];\r\n      getUsername(Value).then((data) => {\r\n        user = data;\r\n      });\r\n    }\r\n  })\r\n  .catch((err) => console.log(err));\r\n\r\nclass guideHead {\r\n  constructor() {\r\n    this.guideID = v4();\r\n    this.author = user;\r\n    this.title = \"\";\r\n    this.description = \"\";\r\n    this.image = \"\";\r\n    this.video = \"\";\r\n    this.scoreUp = 0;\r\n    this.scoreDown = 0;\r\n  }\r\n}\r\n\r\nclass EditGuide extends Component {\r\n  state = {\r\n    guideHead: new guideHead(),\r\n    guideSections: [],\r\n  };\r\n\r\n  id = new URLSearchParams(this.props.location.search).get(\"guideID\");\r\n  saveUrl = \"\";\r\n  getUrl = \"\";\r\n  componentDidMount() {\r\n    if (!process.env.NODE_ENV || process.env.NODE_ENV === \"development\") {\r\n      this.saveUrl = \"http://localhost:8080/uploadGuideHead\";\r\n      this.getUrl = \"http://localhost:8080/getGuide?guideId=\" + this.id;\r\n    } else {\r\n      this.url =\r\n        \"http://guiabackend-env.eba-u9xxwbnm.us-west-1.elasticbeanstalk.com/getGuide?guideId=\" +\r\n        this.id;\r\n      this.getUrl =\r\n        \"http://guiabackend-env.eba-u9xxwbnm.us-west-1.elasticbeanstalk.com/uploadGuideHead\";\r\n    }\r\n\r\n    this.getSections();\r\n  }\r\n\r\n  getSections() {\r\n    // console.log(this.url);\r\n    fetch(this.getUrl)\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        // console.log(data);\r\n        this.setState({\r\n          guideHead: data[0],\r\n          guideSections: data[1],\r\n        });\r\n        console.log(this.state);\r\n      });\r\n  }\r\n\r\n  onSaveGuide = () => {\r\n    console.log(this.state.guideHead);\r\n    let formData = new FormData();\r\n    formData.append(\"file\", JSON.stringify(this.state.guideHead));\r\n    axios.post(this.saveUrl, formData).then((res) => {\r\n      let button = document.getElementById(\"saveHeadButton\");\r\n      button.classList = \"saveButton\";\r\n      button.innerHTML = \"Section Saved\";\r\n    });\r\n  };\r\n\r\n  onAddHeadImg = (res) => {\r\n    this.setState((prevState) => ({\r\n      guideHead: {\r\n        ...prevState.guideHead,\r\n        image: res.data.Location,\r\n      },\r\n    }));\r\n\r\n    console.log(this.state.guideHead);\r\n  };\r\n\r\n  onNotSaved = () => {\r\n    let button = document.getElementById(\"saveHeadButton\");\r\n    button.classList = \"unsavedButton\";\r\n    button.innerHTML = \"Save Changes\";\r\n  };\r\n\r\n  sectionIndex = 0;\r\n  addSection = () => {\r\n    this.setState((prevState) => ({\r\n      guideHead: {\r\n        ...prevState.guideHead,\r\n      },\r\n      guideSections: [\r\n        ...prevState.guideSections,\r\n        { key: this.sectionIndex, guideID: this.state.guideHead.guideID },\r\n      ],\r\n    }));\r\n    this.sectionIndex++;\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div id=\"guideCreator\">\r\n        {/* <div className=\"id\">{this.state.guideHead.guideID}</div> */}\r\n        <div id=\"guideCreatorHead\">\r\n          <div className=\"guideCreatorLabel\">Add Title</div>\r\n          <input\r\n            type=\"text\"\r\n            className=\"guideCreatorHeadInput\"\r\n            placeholder=\"Title\"\r\n            value={this.state.guideHead.title}\r\n            onChange={(e) => {\r\n              let title = e.target.value;\r\n              this.setState((prevState) => ({\r\n                guideHead: {\r\n                  ...prevState.guideHead,\r\n                  title: title,\r\n                },\r\n              }));\r\n              this.onNotSaved();\r\n            }}\r\n          ></input>\r\n          <div className=\"guideCreatorLabel\">Add Description</div>\r\n          <textarea\r\n            type=\"text\"\r\n            className=\"guideCreatorHeadInput\"\r\n            placeholder=\"Description\"\r\n            value={this.state.guideHead.description}\r\n            onChange={(e) => {\r\n              let description = e.target.value;\r\n              this.setState((prevState) => ({\r\n                guideHead: {\r\n                  ...prevState.guideHead,\r\n                  description: description,\r\n                },\r\n              }));\r\n              this.onNotSaved();\r\n            }}\r\n          ></textarea>\r\n          <div className=\"guideCreatorHeadAddImage\">\r\n            <div className=\"guideCreatorLabel\">[Optional] Add Image</div>\r\n            {this.state.guideHead.image ? <img\r\n              className=\"guideCreatorHeadAddImagePreview\"\r\n              src={this.state.guideHead.image}\r\n              width=\"100px\"\r\n              height=\"100px\"\r\n              alt=\"Preview\"\r\n            ></img> : \"\"}\r\n            <FileUpload handler={this.onAddHeadImg} />\r\n            <div className=\"guideCreatorLabel\">\r\n              [Optional] Add Video (takes place of image)\r\n            </div>\r\n            <input\r\n              type=\"text\"\r\n              className=\"guideCreatorHeadInput\"\r\n              placeholder=\"Youtube URL\"\r\n              value={this.state.guideHead.video}\r\n              onChange={(e) => {\r\n                let url = e.target.value;\r\n                this.setState((prevState) => ({\r\n                  guideHead: {\r\n                    ...prevState.guideHead,\r\n                    video: url,\r\n                  },\r\n                }));\r\n                this.onNotSaved();\r\n              }}\r\n            ></input>\r\n          </div>\r\n          <div\r\n            className=\"saveButton\"\r\n            id=\"saveHeadButton\"\r\n            onClick={this.onSaveGuide}\r\n          >\r\n            Section Saved\r\n          </div>\r\n        </div>\r\n        <div className=\"guideCreatorSections\">\r\n          {this.state.guideSections.map((section) => (\r\n            <EditGuideSection key={section.sectionID || this.sectionIndex} section = {section}/>\r\n          ))}\r\n        </div>\r\n        <div className=\"addSectionButton\" onClick={this.addSection}>\r\n          Add Section\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default EditGuide;\r\n","import React, { Component } from \"react\";\r\nimport CommentBox from \"../components/CommentBox\";\r\nimport { session, getUsername } from \"../components/Authentication\";\r\n\r\nclass Board extends Component {\r\n  state = {\r\n    user: false,\r\n    username: \"\",\r\n  };\r\n\r\n  componentDidMount() {\r\n    session()\r\n      .then((val) => {\r\n        if (val) {\r\n          // console.log(\"USER\",val);\r\n          let { Value } = val.Attributes[2];\r\n          getUsername(Value).then((data) => {\r\n            this.setState({\r\n              username: data,\r\n              user: true,\r\n            });\r\n          });\r\n        }\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div id=\"board\">\r\n        <CommentBox\r\n          parentID={this.id}\r\n          user={this.state.user}\r\n          username={this.state.username}\r\n          hide={false}\r\n          submit={false}\r\n          sortNew={true}\r\n          permaDelete = {true}\r\n          prompt=\"Start a discussion\"\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Board;\r\n","import React, { Component } from \"react\";\r\nimport { session, getUserData } from \"../components/Authentication\";\r\nimport FileUpload from \"../components/fileUpload\";\r\nimport axios from \"axios\";\r\n\r\n\r\nclass Profile extends Component {\r\n\r\n\r\n  state = {\r\n    user: \"\",\r\n  };\r\n  url=\"\";\r\n  componentDidMount(){\r\n    if (!process.env.NODE_ENV || process.env.NODE_ENV === 'development') {\r\n      this.url = \"http://localhost:8080/createUser\";\r\n      } else {\r\n        this.url = \"http://guiabackend-env.eba-u9xxwbnm.us-west-1.elasticbeanstalk.com/createUser\";\r\n      }\r\n    session()\r\n      .then((val) => {\r\n        if (val) {\r\n          let { Value } = val.Attributes[2];\r\n          getUserData(Value).then((data) => {\r\n            this.setState({\r\n              user: data,\r\n            });\r\n            // console.log(this.state);\r\n          });\r\n        }\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n\r\n  onImageChange = (res) =>{\r\n    let user = {\r\n      username:this.state.user.username,\r\n      email:this.state.user.email,\r\n      image: res.data.Location,\r\n    }\r\n    let formData = new FormData();\r\n    formData.append(\"file\", JSON.stringify(user));\r\n    axios.post(this.url, formData).then((res) => {\r\n      this.setState({\r\n        user:res.data\r\n      })\r\n    });\r\n  }\r\n\r\n  defaultImage =\r\n    \"https://guia-images.s3-us-west-1.amazonaws.com/Full-Green-Tree-984x1024.png\";\r\n\r\n  render() {\r\n    return (\r\n      <div id=\"profile\">\r\n        <img\r\n          className=\"profileImage\"\r\n          src={this.state.user.image || this.defaultImage}\r\n          alt={this.state.user.username}\r\n        ></img>\r\n        <FileUpload handler={this.onImageChange} />\r\n        <div className=\"profileUsername\">{this.state.user.username}</div>\r\n        <div className=\"profileEmail\">{this.state.user.email}</div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Profile;\r\n","import \"./App.scss\";\r\nimport React, { Component } from \"react\";\r\nimport { Link, Route, Switch } from \"react-router-dom\";\r\nimport Home from \"./pages/Home.jsx\";\r\nimport Guide from \"./pages/Guide\";\r\nimport CreateGuide from \"./pages/CreateGuide\";\r\nimport LoginPage from \"./pages/LoginPage\";\r\nimport SignUpPage from \"./pages/SignUpPage\";\r\nimport EditGuide from \"./pages/EditGuide\";\r\nimport { logout, session, getUsername } from \"./components/Authentication\";\r\nimport Board from \"./pages/Board\";\r\nimport Profile from \"./pages/Profile\";\r\n\r\n// import {\r\n//   BrowserRouter as Router,\r\n//   Switch,\r\n//   Route,\r\n//   Link\r\n// } from \"react-router-dom\";\r\n\r\nclass App extends Component {\r\n  state = {\r\n    user: false,\r\n  };\r\n\r\n  hide(e) {\r\n    this.setState({\r\n      homeLinks: true,\r\n    });\r\n  }\r\n\r\n  // //RESET STATE ON BACK\r\n  // //or on load ... i think?\r\n  // componentDidMount(){\r\n  //   window.onpopstate = () =>{\r\n  //     this.setState({\r\n  //       test:true\r\n  //     })\r\n  //   }\r\n  // }\r\n\r\n  componentDidMount() {\r\n    session()\r\n      .then((val) => {\r\n        if (val) {\r\n          // console.log(\"USER\",val);\r\n          let { Value } = val.Attributes[2];\r\n          getUsername(Value).then((data) => {\r\n            // console.log(data);\r\n          });\r\n          this.setState({\r\n            user: true,\r\n          });\r\n        }\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div id=\"container\">\r\n        <div id=\"mainSidebar\">\r\n          <Link to=\"/\">\r\n            <img src=\"./assets/GuiaLogo1.svg\" alt=\"Logo\" id=\"mainLogo\"></img>\r\n          </Link>\r\n          {this.state.user ? (\r\n            <div className=\"signedInButtons\">\r\n              <Link to=\"/createGuide\">\r\n                <div className=\"sidebarButton bold\">Create Guide</div>\r\n              </Link>\r\n              <Link to=\"/board\">\r\n                <div className=\"sidebarButton bold\">Community Board</div>\r\n              </Link>\r\n              <Link to=\"/profile\">\r\n                <div className=\"sidebarButton bold\">Profile</div>\r\n              </Link>\r\n              <div className=\"sidebarButton signOutButton\" onClick={logout}>\r\n                Sign Out\r\n              </div>\r\n            </div>\r\n          ) : (\r\n            <div className=\"signInButtons\">\r\n              <Link to=\"/login\">\r\n                <div className=\"sidebarButton bold\">Login</div>\r\n              </Link>\r\n              <Link to=\"/signup\">\r\n                <div className=\"sidebarButton bold\">Sign Up</div>\r\n              </Link>\r\n            </div>\r\n          )}\r\n        </div>\r\n        <div id=\"mainContainer\">\r\n          <Switch>\r\n            {/* <Route\r\n              path=\"/testUpload\"\r\n              render={(props) => <FileUpload {...props}></FileUpload>}\r\n            ></Route> */}\r\n            <Route\r\n              path=\"/profile\"\r\n              render={(props) => <Profile {...props} />}\r\n            ></Route>\r\n            <Route\r\n              path=\"/board\"\r\n              render={(props) => <Board {...props} />}\r\n            ></Route>\r\n            <Route\r\n              path=\"/edit\"\r\n              render={(props) => <EditGuide {...props} />}\r\n            ></Route>\r\n            <Route\r\n              path=\"/login\"\r\n              render={(props) => <LoginPage {...props}></LoginPage>}\r\n            ></Route>\r\n            <Route\r\n              path=\"/signup\"\r\n              render={(props) => <SignUpPage {...props}></SignUpPage>}\r\n            ></Route>\r\n            <Route\r\n              path=\"/createGuide\"\r\n              render={(props) => <CreateGuide {...props}></CreateGuide>}\r\n            ></Route>\r\n            <Route\r\n              path=\"/guide\"\r\n              render={(props) => <Guide {...props}></Guide>}\r\n            ></Route>\r\n\r\n            <Route\r\n              path=\"/\"\r\n              render={(props) => (\r\n                <Home {...props} Hide={(e) => this.hide(e)}></Home>\r\n              )}\r\n            ></Route>\r\n          </Switch>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\nimport * as serviceWorker from \"./serviceWorker\";\r\n// import { Router } from 'react-router-dom';\r\nimport { BrowserRouter} from \"react-router-dom\";\r\n\r\nReactDOM.render(\r\n  <BrowserRouter>\r\n    <App />\r\n  </BrowserRouter>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}