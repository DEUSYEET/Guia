(this.webpackJsonpguia=this.webpackJsonpguia||[]).push([[0],{27:function(e,t,a){t.getVidID=function(e){var t=e.replace("https://","").trim();return t.includes("youtu.be")?t.split("/")[1]:t.split("?v=")[1].split("&")[0]},t.deleteGuide=function(e){fetch("http://guiabackend-env.eba-u9xxwbnm.us-west-1.elasticbeanstalk.com/deleteGuide?guideId="+e).then((function(e){console.log(e)}))}},52:function(e,t,a){e.exports=a(96)},57:function(e,t,a){},58:function(e,t,a){},96:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(47),o=a.n(r),s=(a(57),a(2)),c=a(3),u=a(5),l=a(4),d=(a(58),a(12)),m=a(8),g=a(27),p=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).guide=e.props.guide,e.url=e.guide.video,e.videoThumbnail=e.url?"https://img.youtube.com/vi/"+g.getVidID(e.url)+"/0.jpg":"",e}return Object(c.a)(a,[{key:"render",value:function(){return i.a.createElement("div",{className:"guidePreview"},!this.guide.image&&this.url&&i.a.createElement("div",{className:"guidePreviewImgBox"},i.a.createElement("img",{className:"guidePreviewImg",src:this.videoThumbnail,alt:this.guide.title})),this.guide.image&&i.a.createElement("div",{className:"guidePreviewImgBox"},i.a.createElement("img",{className:"guidePreviewImg",src:this.guide.image,alt:this.guide.title})),i.a.createElement("div",{className:"guidePreviewContent"},i.a.createElement("div",{className:"guidePreviewTitle"},this.guide.title),i.a.createElement("div",{className:"guidePreviewAuthor"},this.guide.author||"Anonymous"),i.a.createElement("div",{className:"guidePreviewDesc"},this.guide.description),i.a.createElement("div",{className:"guidePreviewScore"}," ",i.a.createElement("span",{role:"img","aria-label":"up"},"\ud83d\udc4d"),this.guide.scoreUp||0," /",i.a.createElement("span",{role:"img","aria-label":"down"}," \ud83d\udc4e"),this.guide.scoreDown||0)))}}]),a}(n.Component),h=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).state={guides:[]},e.url="",e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.url="http://guiabackend-env.eba-u9xxwbnm.us-west-1.elasticbeanstalk.com/getAll",this.getAll()}},{key:"getAll",value:function(){var e=this;fetch(this.url).then((function(e){return e.json()})).then((function(t){e.setState({guides:t})}))}},{key:"render",value:function(){return i.a.createElement("div",{id:"homePage"},i.a.createElement("div",{id:"homeTitle"},"Featured Guides"),i.a.createElement("div",{id:"homeGuideContainer"},this.state.guides.sort((function(e,t){var a=e.scoreUp-e.scoreDown;return t.scoreUp-t.scoreDown-a})).map((function(e){return i.a.createElement(d.b,{to:"/guide?guideID="+e.guideID,key:e.guideID},i.a.createElement(p,{guide:e}))}))))}}]),a}(n.Component),v=a(32),f=a(27),b=!1,E=function(e){var t=Object(m.f)();return i.a.createElement("div",{className:"deleteButton",onClick:function(a){b?(f.deleteGuide(e.id),t.push("/"),b=!1):(a.target.innerHTML="Confirm Delete",b=!0)}},"Delete Guide")},S=a(7),w=a.n(S),O=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).url="",e.state={guide:e.props.guide,scoreUp:0,scoreDown:0},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.url="http://guiabackend-env.eba-u9xxwbnm.us-west-1.elasticbeanstalk.com/voteGuide",this.updateScores(this.state.guide)}},{key:"onVote",value:function(e){var t=this,a=new FormData,n={guideID:this.state.guide.guideID,voteType:e.target.classList[0],user:this.props.user};a.append("file",JSON.stringify(n)),w.a.post(this.url,a).then((function(e){t.setState({guide:e.data}),t.updateScores(e.data)}))}},{key:"updateScores",value:function(e){this.setState({scoreUp:e.scoreUp,scoreDown:e.scoreDown})}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"guideVoteButtons"},i.a.createElement("div",{className:this.state.guide.upUsers.includes(this.props.user)?"guideUpvote voted":"guideUpvote"},i.a.createElement("span",{role:"img","aria-label":"up",className:"up",onClick:function(t){return e.onVote(t)}},"\ud83d\udc4d",this.state.scoreUp||0)),i.a.createElement("div",{className:this.state.guide.downUsers.includes(this.props.user)?"guideDownvote voted":"guideDownvote"},i.a.createElement("span",{role:"img","aria-label":"down",className:"down",onClick:function(t){return e.onVote(t)}},"\ud83d\udc4e",this.state.guide.scoreDown||0)))}}]),a}(n.Component),y=a(24),I=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).url="",e.state={comment:e.props.comment,scoreUp:0,scoreDown:0},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.url="http://guiabackend-env.eba-u9xxwbnm.us-west-1.elasticbeanstalk.com/voteComment",this.updateScores(this.state.comment)}},{key:"onVote",value:function(e){var t=this,a=new FormData,n={commentID:this.state.comment.commentID,voteType:e.target.classList[0],user:this.props.user};a.append("file",JSON.stringify(n)),w.a.post(this.url,a).then((function(e){console.log(e.data),t.setState({comment:e.data,scoreUp:e.data.scoreUp,scoreDown:e.data.scoreDown}),t.updateScores(e.data)}))}},{key:"updateScores",value:function(e){this.setState({scoreUp:e.scoreUp,scoreDown:e.scoreDown})}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"guideVoteButtons"},i.a.createElement("div",{className:this.state.comment.upUsers.includes(this.props.user)?"guideUpvote voted":"guideUpvote"},i.a.createElement("span",{role:"img","aria-label":"up",className:"up",onClick:function(t){return e.onVote(t)}},"\ud83d\udc4d",this.state.scoreUp||0)),i.a.createElement("div",{className:this.state.comment.downUsers.includes(this.props.user)?"guideDownvote voted":"guideDownvote"},i.a.createElement("span",{role:"img","aria-label":"down",className:"down",onClick:function(t){return e.onVote(t)}},"\ud83d\udc4e",this.state.scoreDown||0)))}}]),a}(n.Component),N=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).url="",e.state={image:""},e.getImage=function(){if(e.props.username){var t=new FormData;t.append("file",JSON.stringify(e.props.username)),w.a.post(e.url,t).then((function(t){e.setState({image:t.data?t.data.image:"https://guia-images.s3-us-west-1.amazonaws.com/Full-Green-Tree-984x1024.png"})}))}},e.defaultImage="https://guia-images.s3-us-west-1.amazonaws.com/Full-Green-Tree-984x1024.png",e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.url="http://guiabackend-env.eba-u9xxwbnm.us-west-1.elasticbeanstalk.com/getUserImage",this.getImage(),this.props.test&&console.log(this.props.username)}},{key:"render",value:function(){return i.a.createElement("div",{id:"profilePic"},i.a.createElement("img",{src:this.state.image||this.defaultImage,className:"userImage",alt:this.props.username,onClick:this.getImage}))}}]),a}(n.Component),j=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).comment=e.props.comment,e}return Object(c.a)(a,[{key:"render",value:function(){return i.a.createElement("div",{className:"comment"},i.a.createElement("div",{className:"commentHead"},i.a.createElement(N,{username:this.comment.author}),i.a.createElement("div",{className:"commentAuthor"},this.comment.author)),i.a.createElement("div",{className:"commentBody"},this.comment.body),"[Deleted]"===this.comment.author?"":i.a.createElement("div",{className:"commentInteractions"},this.props.user?i.a.createElement(I,{comment:this.comment,user:this.props.username}):i.a.createElement("div",{className:"guideVoteButtons"},i.a.createElement("div",null,i.a.createElement("span",{role:"img","aria-label":"up",className:"up"},"\ud83d\udc4d",this.props.comment.scoreUp||0)),i.a.createElement("div",null,i.a.createElement("span",{role:"img","aria-label":"down",className:"down"},"\ud83d\udc4e",this.props.comment.scoreDown||0)))),i.a.createElement(D,{parentID:this.comment.commentID,user:this.props.user,username:this.props.username,hide:!0,reply:!0,deleted:"[Deleted]"===this.comment.author,prompt:"Leave a reply"}))}}]),a}(n.Component),C=a(97),D=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).createCommentUrl="",n.getCommentsUrl="",n.deleteUrl="",n.onAddComment=function(e){var t=e.target.value;n.setState({userComment:t})},n.uploadComment=function(){var e=new FormData;e.append("file",JSON.stringify({parentID:n.props.parentID,commentID:Object(C.a)(),author:n.props.username,body:n.state.userComment})),w.a.post(n.createCommentUrl,e).then((function(e){n.updateComments(),document.getElementById(n.state.boxID).value=""}))},n.onDelete=function(e){if(n.state.confirmDelete){var t=new FormData;t.append("file",JSON.stringify({parentID:n.props.parentID,commentID:e.target.id,author:"[Deleted]",body:"[Deleted]"})),n.props.permaDelete?w.a.post(n.deleteUrl,t).then((function(e){n.updateComments()})):w.a.post(n.createCommentUrl,t).then((function(e){n.updateComments()})),n.setState({confirmDelete:!1})}else e.target.innerHTML="Confirm Delete",e.target.classList="deleteComment confirm",n.setState({confirmDelete:!0})},n.updateComments=function(){var e=new FormData;e.append("file",JSON.stringify({parentID:n.props.parentID})),w.a.post(n.getCommentsUrl,e).then((function(e){n.setState({comments:[],hide:n.props.hide},(function(){n.setState({comments:n.props.sortNew?e.data.reverse():e.data,hide:n.props.hide})}))}))},n.state={boxID:Object(C.a)(),comments:[],userComment:"",hide:n.props.hide,confirmDelete:!1},n.onReply=n.onReply.bind(Object(y.a)(n)),n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.createCommentUrl="http://guiabackend-env.eba-u9xxwbnm.us-west-1.elasticbeanstalk.com/uploadComment",this.deleteUrl="http://guiabackend-env.eba-u9xxwbnm.us-west-1.elasticbeanstalk.com/deleteComment",this.getCommentsUrl="http://guiabackend-env.eba-u9xxwbnm.us-west-1.elasticbeanstalk.com/getComments",this.updateComments()}},{key:"onReply",value:function(){this.setState({hide:!1})}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"commentBox"},this.props.user&&!this.state.hide?i.a.createElement("div",{className:"commentInput"},i.a.createElement("textarea",{onChange:this.onAddComment,className:"commentTextArea",placeholder:this.props.prompt,id:this.state.boxID}),i.a.createElement("div",{className:"commentButton",onClick:this.uploadComment},"Submit")):this.props.user&&!this.props.deleted?i.a.createElement("div",{className:"replyButton",id:"reply"+this.state.boxID,onClick:this.onReply},"Reply"):"",i.a.createElement("div",{className:this.props.reply?"comments replies":"comments"},this.props.sortNew?this.state.comments.map((function(t){return i.a.createElement("div",{key:t._id,className:"commentContainer"},e.props.username===t.author?i.a.createElement("div",{className:"deleteComment",id:t.commentID,onClick:e.onDelete},"[X]"):"",i.a.createElement(j,Object.assign({comment:t},e.props)))})):this.state.comments.sort((function(e,t){var a=e.scoreUp-e.scoreDown,n=t.scoreUp-t.scoreDown;return console.log(n-a),n-a})).map((function(t){return i.a.createElement("div",{key:t._id,className:"commentContainer"},e.props.username===t.author?i.a.createElement("div",{className:"deleteComment",id:t.commentID,onClick:e.onDelete},"[X]"):"",i.a.createElement(j,Object.assign({comment:t},e.props)))}))))}}]),a}(n.Component),k=a(17),H=a.n(k),x=a(23),U=a(21),A=new U.c({UserPoolId:"us-east-2_r9mOSgn28",ClientId:"4id2vq725vkn530cdcj355d0dt"}),L=function(){var e=Object(x.a)(H.a.mark((function e(t,a){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,n){var i=new U.b({Username:t,Pool:A}),r=new U.a({Username:t,Password:a});i.authenticateUser(r,{onSuccess:function(t){e(t)},onFailure:function(e){n(e)},newPasswordRequired:function(t){e(t)}})}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),B=function(){var e=Object(x.a)(H.a.mark((function e(){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,t){var a=A.getCurrentUser();a?a.getSession((function(n,i){n?t(n):a.getUserAttributes((function(a,n){a?t(a):e({Session:i,Attributes:n})}))})):t()}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),P=function(){var e=A.getCurrentUser();e&&(e.signOut(),window.location.href="/")},F=function(){var e=Object(x.a)(H.a.mark((function e(t){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,a){var n="";n="http://guiabackend-env.eba-u9xxwbnm.us-west-1.elasticbeanstalk.com/getUser";var i=new FormData;i.append("file",JSON.stringify({email:t})),w.a.post(n,i).then((function(t){var a=t.data.username;e(a)})).catch((function(e){return a(e)}))}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=Object(x.a)(H.a.mark((function e(t){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,a){var n="";n="http://guiabackend-env.eba-u9xxwbnm.us-west-1.elasticbeanstalk.com/getUser";var i=new FormData;i.append("file",JSON.stringify({email:t})),w.a.post(n,i).then((function(t){e(t.data)})).catch((function(e){return a(e)}))}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),G=a(27),M=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).id=new URLSearchParams(e.props.location.search).get("guideID"),e.url="",e.state={guideHead:{},guideSections:[],user:!1,username:"",image:""},e}return Object(c.a)(a,[{key:"getSections",value:function(){var e=this;fetch(this.url).then((function(e){return e.json()})).then((function(t){e.setState({guideHead:t[0],guideSections:t[1]})}))}},{key:"componentDidMount",value:function(){var e=this;this.url="http://guiabackend-env.eba-u9xxwbnm.us-west-1.elasticbeanstalk.com/getGuide?guideId="+this.id,this.getSections(),B().then((function(t){if(t){var a=t.Attributes[2].Value;T(a).then((function(t){e.setState({username:t.username,user:!0,image:t.image})}))}})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){return i.a.createElement("div",{id:"guide"},i.a.createElement("div",{id:"guideHead"},this.state.user&&this.state.username===this.state.guideHead.author?i.a.createElement("div",{className:"selfButtons"},i.a.createElement(d.b,{to:"/edit?guideID="+this.id},i.a.createElement("div",{className:"editButton"},"Edit Guide")),i.a.createElement(E,{id:this.id})):"",i.a.createElement("div",{id:"guideTitle"},this.state.guideHead.title),i.a.createElement("div",{id:"guideAuthor"},i.a.createElement(N,{username:this.state.guideHead.author,test:!0,key:this.state.guideHead.author}),this.state.guideHead.author),this.state.user?i.a.createElement(O,{guide:this.state.guideHead,user:this.state.username}):i.a.createElement("div",{className:"guideVoteButtons"},i.a.createElement("div",null,i.a.createElement("span",{role:"img","aria-label":"up",className:"up"},"\ud83d\udc4d",this.state.guideHead.scoreUp||0)),i.a.createElement("div",null,i.a.createElement("span",{role:"img","aria-label":"down",className:"down"},"\ud83d\udc4e",this.state.guideHead.scoreDown||0))),!this.state.guideHead.image&&this.state.guideHead.video&&i.a.createElement(v.a,{id:"guideHeadVideo",videoId:G.getVidID(this.state.guideHead.video)}),this.state.guideHead.image&&i.a.createElement("img",{id:"guideHeadImg",src:this.state.guideHead.image,alt:this.state.guideHead.title}),i.a.createElement("div",{id:"guideHeadDesc"},this.state.guideHead.description)),i.a.createElement("div",{id:"guideSectionContainer"},this.state.guideSections.map((function(e){return i.a.createElement("div",{className:"guideSection",key:e._id},i.a.createElement("div",{className:"guideSectionTitle"},e.title),!e.image&&e.video&&i.a.createElement(v.a,{className:"guideSectionVideo",videoId:G.getVidID(e.video)}),e.image&&i.a.createElement("img",{className:"guideSectionImg",src:e.image,alt:e.title}),i.a.createElement("div",{className:"guideSectionDesc"},e.description))}))),i.a.createElement(D,{parentID:this.id,user:this.state.user,username:this.state.username,hide:!1,submit:!1,prompt:"Leave a comment"}))}}]),a}(n.Component),V=a(25),J=a(1),R=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).url="",e.state={file:null,id:Object(C.a)()},e.onChooseFile=function(t){e.setState({file:t.target.files[0]}),document.getElementById(e.state.id).classList="unsavedButton",document.getElementById(e.state.id).innerHTML="Save Image"},e.onUploadFile=function(){var t=new FormData;t.append("file",e.state.file,e.state.file.name),w.a.post(e.url,t).then((function(t){e.props.handler(t),document.getElementById(e.state.id).classList="saveFileButton",document.getElementById(e.state.id).innerHTML="Image Saved"}))},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.url="http://guiabackend-env.eba-u9xxwbnm.us-west-1.elasticbeanstalk.com/uploadImage"}},{key:"render",value:function(){return i.a.createElement("div",{className:"fileUpload"},i.a.createElement("input",{type:"file",accept:"image/*",onChange:this.onChooseFile}),i.a.createElement("div",{className:"saveFileButton",onClick:this.onUploadFile,id:this.state.id},"Save Image"))}}]),a}(n.Component),_=function e(t){Object(s.a)(this,e),this.guideID=t,this.sectionID=Object(C.a)(),this.title=null,this.description=null,this.image=null,this.video=null},Y=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).url="",e.state={guideSection:new _(e.props.guideID),submitID:Object(C.a)()},e.onSaveGuide=function(){console.log(e.state.guideSection);var t=new FormData;t.append("file",JSON.stringify(e.state.guideSection)),w.a.post(e.url,t).then((function(t){var a=document.getElementById(e.state.submitID);a.classList="saveButton",a.innerHTML="Saved"}))},e.onAddSectionImg=function(t){e.setState((function(e){return{guideSection:Object(J.a)(Object(J.a)({},e.guideSection),{},{image:t.data.Location})}})),console.log(e.state.guideSection)},e.onNotSaved=function(){var t=document.getElementById(e.state.submitID);t.classList="unsavedButton",t.innerHTML="Save Changes"},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.url="http://guiabackend-env.eba-u9xxwbnm.us-west-1.elasticbeanstalk.com/uploadGuideSection"}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"guideCreatorSection"},i.a.createElement("div",{className:"guideSectionCreatorLabel"},"Add Section Title"),i.a.createElement("input",{type:"text",className:"guideCreatorSectionInput",placeholder:"Section Title",onChange:function(t){var a=t.target.value;e.setState((function(e){return{guideSection:Object(J.a)(Object(J.a)({},e.guideSection),{},{title:a})}})),e.onNotSaved()}}),i.a.createElement("div",{className:"guideSectionCreatorLabel"},"Add Section Description"),i.a.createElement("textarea",{type:"text",className:"guideCreatorSectionInput",placeholder:"Description",onChange:function(t){var a=t.target.value;e.setState((function(e){return{guideSection:Object(J.a)(Object(J.a)({},e.guideSection),{},{description:a})}})),e.onNotSaved()}}),i.a.createElement("div",{className:"guideCreatorSectionAddImage"},i.a.createElement("div",{className:"guideSectionCreatorLabel"},"[Optional] Add Image"),this.state.guideSection.image?i.a.createElement("img",{className:"guideCreatorSectionAddImagePreview",src:this.state.guideSection.image,width:"100px",height:"100px",alt:"Preview"}):"",i.a.createElement(R,{handler:this.onAddSectionImg}),i.a.createElement("div",{className:"guideSectionCreatorLabel"},"[Optional] Add Video (takes place of image)"),i.a.createElement("input",{type:"text",className:"guideCreatorSectionInput",placeholder:"Youtube URL",onChange:function(t){var a=t.target.value;e.setState((function(e){return{guideSection:Object(J.a)(Object(J.a)({},e.guideSection),{},{video:a})}})),e.onNotSaved()}})),i.a.createElement("div",{className:"saveButton",id:this.state.submitID,onClick:this.onSaveGuide},"Section Saved"))}}]),a}(n.Component),q="";B().then((function(e){if(e){var t=e.Attributes[2].Value;F(t).then((function(e){q=e}))}})).catch((function(e){return console.log(e)}));var z=function e(){Object(s.a)(this,e),this.guideID=Object(C.a)(),this.author=q,this.title="",this.description="",this.image="",this.video="",this.scoreUp=0,this.scoreDown=0},W=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).state={guideHead:new z,guideSections:[]},e.url="",e.onSaveGuide=function(){console.log(e.state.guideHead);var t=new FormData;t.append("file",JSON.stringify(e.state.guideHead)),w.a.post(e.url,t).then((function(e){var t=document.getElementById("saveHeadButton");t.classList="saveButton",t.innerHTML="Section Saved"}))},e.onAddHeadImg=function(t){e.setState((function(e){return{guideHead:Object(J.a)(Object(J.a)({},e.guideHead),{},{image:t.data.Location})}})),console.log(e.state.guideHead)},e.onNotSaved=function(){var e=document.getElementById("saveHeadButton");e.classList="unsavedButton",e.innerHTML="Save Changes"},e.sectionIndex=0,e.addSection=function(){e.setState((function(t){return{guideHead:Object(J.a)({},t.guideHead),guideSections:[].concat(Object(V.a)(t.guideSections),[{key:e.sectionIndex,guideID:e.state.guideHead.guideID}])}})),e.sectionIndex++},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.url="http://guiabackend-env.eba-u9xxwbnm.us-west-1.elasticbeanstalk.com/uploadGuideHead"}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{id:"guideCreator"},i.a.createElement("div",{id:"guideCreatorHead"},i.a.createElement("div",{className:"guideCreatorLabel"},"Add Title"),i.a.createElement("input",{type:"text",className:"guideCreatorHeadInput",placeholder:"Title",onChange:function(t){console.log(e.state.guideHead.author);var a=t.target.value;e.setState((function(e){return{guideHead:Object(J.a)(Object(J.a)({},e.guideHead),{},{title:a})}})),e.onNotSaved()}}),i.a.createElement("div",{className:"guideCreatorLabel"},"Add Description"),i.a.createElement("textarea",{type:"text",className:"guideCreatorHeadInput",placeholder:"Description",onChange:function(t){var a=t.target.value;e.setState((function(e){return{guideHead:Object(J.a)(Object(J.a)({},e.guideHead),{},{description:a})}})),e.onNotSaved()}}),i.a.createElement("div",{className:"guideCreatorHeadAddImage"},i.a.createElement("div",{className:"guideCreatorLabel"},"[Optional] Add Image"),this.state.guideHead.image?i.a.createElement("img",{className:"guideCreatorHeadAddImagePreview",src:this.state.guideHead.image,width:"100px",height:"100px",alt:"Preview"}):"",i.a.createElement(R,{handler:this.onAddHeadImg}),i.a.createElement("div",{className:"guideCreatorLabel"},"[Optional] Add Video (takes place of image)"),i.a.createElement("input",{type:"text",className:"guideCreatorHeadInput",placeholder:"Youtube URL",onChange:function(t){var a=t.target.value;e.setState((function(e){return{guideHead:Object(J.a)(Object(J.a)({},e.guideHead),{},{video:a})}})),e.onNotSaved()}})),i.a.createElement("div",{className:"saveButton",id:"saveHeadButton",onClick:this.onSaveGuide},"Section Saved")),i.a.createElement("div",{className:"guideCreatorSections"},this.state.guideSections.map((function(e){return i.a.createElement(Y,{key:e.key,guideID:e.guideID})}))),i.a.createElement("div",{className:"addSectionButton",onClick:this.addSection},"Add Section"))}}]),a}(n.Component),X=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).state={username:"",password:""},e.onSubmit=function(t){t.preventDefault(),L(e.state.username,e.state.password).then((function(e){window.location.href="/"})).catch((function(e){console.error("error",e)}))},e}return Object(c.a)(a,[{key:"render",value:function(){var e=this;return i.a.createElement("div",{id:"signUpForm"},i.a.createElement("div",{id:"signInHead"},"Log In"),i.a.createElement("div",{className:"signInLabel"},"Username"),i.a.createElement("input",{type:"text",className:"signUpFormInput",placeholder:"Username",onChange:function(t){var a=t.target.value;e.setState((function(e){return Object(J.a)(Object(J.a)({},e),{},{username:a})}))}}),i.a.createElement("div",{className:"signInLabel"},"Password"),i.a.createElement("input",{type:"password",className:"signUpFormInput",placeholder:"Password",onChange:function(t){var a=t.target.value;e.setState((function(e){return Object(J.a)(Object(J.a)({},e),{},{password:a})}))}}),i.a.createElement("div",{id:"submitButton",onClick:this.onSubmit},"Submit"))}}]),a}(n.Component),$=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).state={},e}return Object(c.a)(a,[{key:"render",value:function(){return i.a.createElement("div",{id:"loginPage"},i.a.createElement("div",{id:"loginPageForm"},i.a.createElement(X,null)))}}]),a}(n.Component),K=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).url="",e.userPool=new U.c({UserPoolId:"us-east-2_r9mOSgn28",ClientId:"4id2vq725vkn530cdcj355d0dt"}),e.state={email:"",username:"",password:"",invalid:!1},e.onSubmit=function(t){t.preventDefault(),e.userPool.signUp(e.state.username,e.state.password,[{Name:"email",Value:e.state.email}],null,(function(t,a){if(t)console.error(t);else{var n={username:e.state.username,email:e.state.email},i=new FormData;i.append("file",JSON.stringify(n)),w.a.post(e.url,i).then((function(e){console.log(a),window.location.href="/"}))}}))},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.url="http://guiabackend-env.eba-u9xxwbnm.us-west-1.elasticbeanstalk.com/createUser"}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{id:"signUpForm"},i.a.createElement("div",{id:"signInHead"},"Log In"),i.a.createElement("div",{className:"signInLabel"},"Email"),i.a.createElement("input",{type:"email",className:"signUpFormInput",placeholder:"Email",onChange:function(t){var a=t.target.value;e.setState((function(e){return Object(J.a)(Object(J.a)({},e),{},{email:a})}))}}),i.a.createElement("div",{className:"signInLabel"},"Username"),i.a.createElement("input",{type:"text",className:"signUpFormInput",placeholder:"Username",onChange:function(t){var a=t.target.value;e.setState((function(e){return Object(J.a)(Object(J.a)({},e),{},{username:a})}))}}),i.a.createElement("div",{className:"signInLabel"},"Password"),i.a.createElement("input",{type:"password",className:"signUpFormInput",placeholder:"Password",onChange:function(t){var a=t.target.value;e.setState((function(e){return Object(J.a)(Object(J.a)({},e),{},{password:a})}))}}),i.a.createElement("div",{id:"submitButton",onClick:this.onSubmit},"Submit"))}}]),a}(n.Component),Q=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).state={},e}return Object(c.a)(a,[{key:"render",value:function(){return i.a.createElement("div",{id:"loginPage"},i.a.createElement("div",{id:"loginPageForm"},i.a.createElement(K,null)))}}]),a}(n.Component),Z=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).state={guideSection:e.props.section,submitID:Object(C.a)()},e.url="",e.onSaveGuide=function(){console.log(e.state.guideSection);var t=new FormData;t.append("file",JSON.stringify(e.state.guideSection)),w.a.post(e.url,t).then((function(t){var a=document.getElementById(e.state.submitID);a.classList="saveButton",a.innerHTML="Saved"}))},e.onAddSectionImg=function(t){e.setState((function(e){return{guideSection:Object(J.a)(Object(J.a)({},e.guideSection),{},{image:t.data.Location})}})),console.log(e.state.guideSection)},e.onNotSaved=function(){var t=document.getElementById(e.state.submitID);t.classList="unsavedButton",t.innerHTML="Save Changes"},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.url="http://guiabackend-env.eba-u9xxwbnm.us-west-1.elasticbeanstalk.com/uploadGuideSection",console.log(this.state)}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"guideCreatorSection"},i.a.createElement("div",{className:"guideSectionCreatorLabel"},"Add Section Title"),i.a.createElement("input",{type:"text",className:"guideCreatorSectionInput",placeholder:"Section Title",value:this.state.guideSection.title,onChange:function(t){var a=t.target.value;e.setState((function(e){return{guideSection:Object(J.a)(Object(J.a)({},e.guideSection),{},{title:a})}})),e.onNotSaved()}}),i.a.createElement("div",{className:"guideSectionCreatorLabel"},"Add Section Description"),i.a.createElement("textarea",{type:"text",className:"guideCreatorSectionInput",placeholder:"Description",value:this.state.guideSection.description||"",onChange:function(t){var a=t.target.value;e.setState((function(e){return{guideSection:Object(J.a)(Object(J.a)({},e.guideSection),{},{description:a})}})),e.onNotSaved()}}),i.a.createElement("div",{className:"guideCreatorSectionAddImage"},i.a.createElement("div",{className:"guideSectionCreatorLabel"},"[Optional] Add Image"),this.state.guideSection.image?i.a.createElement("img",{className:"guideCreatorSectionAddImagePreview",src:this.state.guideSection.image,width:"100px",height:"100px",alt:"Preview"}):"",i.a.createElement(R,{handler:this.onAddSectionImg}),i.a.createElement("div",{className:"guideSectionCreatorLabel"},"[Optional] Add Video (takes place of image)"),i.a.createElement("input",{type:"text",className:"guideCreatorSectionInput",placeholder:"Youtube URL",value:this.state.guideSection.video||"",onChange:function(t){var a=t.target.value;e.setState((function(e){return{guideSection:Object(J.a)(Object(J.a)({},e.guideSection),{},{video:a})}})),e.onNotSaved()}})),i.a.createElement("div",{className:"saveButton",id:this.state.submitID,onClick:this.onSaveGuide},"Section Saved"))}}]),a}(n.Component),ee="";B().then((function(e){if(e){var t=e.Attributes[2].Value;F(t).then((function(e){ee=e}))}})).catch((function(e){return console.log(e)}));var te=function e(){Object(s.a)(this,e),this.guideID=Object(C.a)(),this.author=ee,this.title="",this.description="",this.image="",this.video="",this.scoreUp=0,this.scoreDown=0},ae=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).state={guideHead:new te,guideSections:[]},e.id=new URLSearchParams(e.props.location.search).get("guideID"),e.saveUrl="",e.getUrl="",e.onSaveGuide=function(){console.log(e.state.guideHead);var t=new FormData;t.append("file",JSON.stringify(e.state.guideHead)),w.a.post(e.saveUrl,t).then((function(e){var t=document.getElementById("saveHeadButton");t.classList="saveButton",t.innerHTML="Section Saved"}))},e.onAddHeadImg=function(t){e.setState((function(e){return{guideHead:Object(J.a)(Object(J.a)({},e.guideHead),{},{image:t.data.Location})}})),console.log(e.state.guideHead)},e.onNotSaved=function(){var e=document.getElementById("saveHeadButton");e.classList="unsavedButton",e.innerHTML="Save Changes"},e.sectionIndex=0,e.addSection=function(){e.setState((function(t){return{guideHead:Object(J.a)({},t.guideHead),guideSections:[].concat(Object(V.a)(t.guideSections),[{key:e.sectionIndex,guideID:e.state.guideHead.guideID}])}})),e.sectionIndex++},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.url="http://guiabackend-env.eba-u9xxwbnm.us-west-1.elasticbeanstalk.com/getGuide?guideId="+this.id,this.getUrl="http://guiabackend-env.eba-u9xxwbnm.us-west-1.elasticbeanstalk.com/uploadGuideHead",this.getSections()}},{key:"getSections",value:function(){var e=this;fetch(this.getUrl).then((function(e){return e.json()})).then((function(t){e.setState({guideHead:t[0],guideSections:t[1]}),console.log(e.state)}))}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{id:"guideCreator"},i.a.createElement("div",{id:"guideCreatorHead"},i.a.createElement("div",{className:"guideCreatorLabel"},"Add Title"),i.a.createElement("input",{type:"text",className:"guideCreatorHeadInput",placeholder:"Title",value:this.state.guideHead.title,onChange:function(t){var a=t.target.value;e.setState((function(e){return{guideHead:Object(J.a)(Object(J.a)({},e.guideHead),{},{title:a})}})),e.onNotSaved()}}),i.a.createElement("div",{className:"guideCreatorLabel"},"Add Description"),i.a.createElement("textarea",{type:"text",className:"guideCreatorHeadInput",placeholder:"Description",value:this.state.guideHead.description,onChange:function(t){var a=t.target.value;e.setState((function(e){return{guideHead:Object(J.a)(Object(J.a)({},e.guideHead),{},{description:a})}})),e.onNotSaved()}}),i.a.createElement("div",{className:"guideCreatorHeadAddImage"},i.a.createElement("div",{className:"guideCreatorLabel"},"[Optional] Add Image"),this.state.guideHead.image?i.a.createElement("img",{className:"guideCreatorHeadAddImagePreview",src:this.state.guideHead.image,width:"100px",height:"100px",alt:"Preview"}):"",i.a.createElement(R,{handler:this.onAddHeadImg}),i.a.createElement("div",{className:"guideCreatorLabel"},"[Optional] Add Video (takes place of image)"),i.a.createElement("input",{type:"text",className:"guideCreatorHeadInput",placeholder:"Youtube URL",value:this.state.guideHead.video,onChange:function(t){var a=t.target.value;e.setState((function(e){return{guideHead:Object(J.a)(Object(J.a)({},e.guideHead),{},{video:a})}})),e.onNotSaved()}})),i.a.createElement("div",{className:"saveButton",id:"saveHeadButton",onClick:this.onSaveGuide},"Section Saved")),i.a.createElement("div",{className:"guideCreatorSections"},this.state.guideSections.map((function(t){return i.a.createElement(Z,{key:t.sectionID||e.sectionIndex,section:t})}))),i.a.createElement("div",{className:"addSectionButton",onClick:this.addSection},"Add Section"))}}]),a}(n.Component),ne=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).state={user:!1,username:""},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;B().then((function(t){if(t){var a=t.Attributes[2].Value;F(a).then((function(t){e.setState({username:t,user:!0})}))}})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){return i.a.createElement("div",{id:"board"},i.a.createElement(D,{parentID:this.id,user:this.state.user,username:this.state.username,hide:!1,submit:!1,sortNew:!0,permaDelete:!0,prompt:"Start a discussion"}))}}]),a}(n.Component),ie=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).state={user:""},e.url="",e.onImageChange=function(t){var a={username:e.state.user.username,email:e.state.user.email,image:t.data.Location},n=new FormData;n.append("file",JSON.stringify(a)),w.a.post(e.url,n).then((function(t){e.setState({user:t.data})}))},e.defaultImage="https://guia-images.s3-us-west-1.amazonaws.com/Full-Green-Tree-984x1024.png",e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.url="http://guiabackend-env.eba-u9xxwbnm.us-west-1.elasticbeanstalk.com/createUser",B().then((function(t){if(t){var a=t.Attributes[2].Value;T(a).then((function(t){e.setState({user:t})}))}})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){return i.a.createElement("div",{id:"profile"},i.a.createElement("img",{className:"profileImage",src:this.state.user.image||this.defaultImage,alt:this.state.user.username}),i.a.createElement(R,{handler:this.onImageChange}),i.a.createElement("div",{className:"profileUsername"},this.state.user.username),i.a.createElement("div",{className:"profileEmail"},this.state.user.email))}}]),a}(n.Component),re=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).state={user:!1},e}return Object(c.a)(a,[{key:"hide",value:function(e){this.setState({homeLinks:!0})}},{key:"componentDidMount",value:function(){var e=this;B().then((function(t){if(t){var a=t.Attributes[2].Value;F(a).then((function(e){})),e.setState({user:!0})}})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{id:"container"},i.a.createElement("div",{id:"mainSidebar"},i.a.createElement(d.b,{to:"/"},i.a.createElement("img",{src:"./assets/GuiaLogo1.svg",alt:"Logo",id:"mainLogo"})),this.state.user?i.a.createElement("div",{className:"signedInButtons"},i.a.createElement(d.b,{to:"/createGuide"},i.a.createElement("div",{className:"sidebarButton bold"},"Create Guide")),i.a.createElement(d.b,{to:"/board"},i.a.createElement("div",{className:"sidebarButton bold"},"Community Board")),i.a.createElement(d.b,{to:"/profile"},i.a.createElement("div",{className:"sidebarButton bold"},"Profile")),i.a.createElement("div",{className:"sidebarButton signOutButton",onClick:P},"Sign Out")):i.a.createElement("div",{className:"signInButtons"},i.a.createElement(d.b,{to:"/login"},i.a.createElement("div",{className:"sidebarButton bold"},"Login")),i.a.createElement(d.b,{to:"/signup"},i.a.createElement("div",{className:"sidebarButton bold"},"Sign Up")))),i.a.createElement("div",{id:"mainContainer"},i.a.createElement(m.c,null,i.a.createElement(m.a,{path:"/profile",render:function(e){return i.a.createElement(ie,e)}}),i.a.createElement(m.a,{path:"/board",render:function(e){return i.a.createElement(ne,e)}}),i.a.createElement(m.a,{path:"/edit",render:function(e){return i.a.createElement(ae,e)}}),i.a.createElement(m.a,{path:"/login",render:function(e){return i.a.createElement($,e)}}),i.a.createElement(m.a,{path:"/signup",render:function(e){return i.a.createElement(Q,e)}}),i.a.createElement(m.a,{path:"/createGuide",render:function(e){return i.a.createElement(W,e)}}),i.a.createElement(m.a,{path:"/guide",render:function(e){return i.a.createElement(M,e)}}),i.a.createElement(m.a,{path:"/",render:function(t){return i.a.createElement(h,Object.assign({},t,{Hide:function(t){return e.hide(t)}}))}}))))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(i.a.createElement(d.a,null,i.a.createElement(re,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[52,1,2]]]);
//# sourceMappingURL=main.5593cf7a.chunk.js.map