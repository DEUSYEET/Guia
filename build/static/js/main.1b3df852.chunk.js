(this.webpackJsonpguia=this.webpackJsonpguia||[]).push([[0],{21:function(e,t){t.getVidID=function(e){var t=e.replace("https://","").trim();return t.includes("youtu.be")?t.split("/")[1]:t.split("?v=")[1].split("&")[0]}},36:function(e,t,a){e.exports=a(75)},41:function(e,t,a){},42:function(e,t,a){},75:function(e,t,a){"use strict";a.r(t);var i=a(0),n=a.n(i),r=a(32),c=a.n(r),o=(a(41),a(5)),u=a(8),l=a(10),d=a(9),s=(a(42),a(12)),g=a(1),m=a(21),h=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(o.a)(this,a);for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).guide=e.props.guide,e.url=e.guide.video,e.videoThumbnail=e.url?"https://img.youtube.com/vi/"+m.getVidID(e.url)+"/0.jpg":"",e}return Object(u.a)(a,[{key:"render",value:function(){return n.a.createElement("div",{className:"guidePreview"},!this.guide.image&&this.url&&n.a.createElement("div",{className:"guidePreviewImgBox"},n.a.createElement("img",{className:"guidePreviewImg",src:this.videoThumbnail,alt:this.guide.title})),this.guide.image&&n.a.createElement("div",{className:"guidePreviewImgBox"},n.a.createElement("img",{className:"guidePreviewImg",src:this.guide.image,alt:this.guide.title})),n.a.createElement("div",{className:"guidePreviewContent"},n.a.createElement("div",{className:"guidePreviewTitle"},this.guide.title),n.a.createElement("div",{className:"guidePreviewAuthor"},this.guide.author||"Anonymous"),n.a.createElement("div",{className:"guidePreviewDesc"},this.guide.description),n.a.createElement("div",{className:"guidePreviewScore"}," ",n.a.createElement("span",{role:"img","aria-label":"up"},"\ud83d\udc4d"),this.guide.scoreUp||0," /",n.a.createElement("span",{role:"img","aria-label":"down"}," \ud83d\udc4e"),this.guide.scoreDown||0)))}}]),a}(i.Component),v=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(o.a)(this,a);for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={guides:[]},e}return Object(u.a)(a,[{key:"getAll",value:function(){var e=this;fetch("http://guiabackend-env.eba-u9xxwbnm.us-west-1.elasticbeanstalk.com/getAll").then((function(e){return e.json()})).then((function(t){e.setState({guides:t}),console.log(e.state.guides)}))}},{key:"componentDidMount",value:function(){this.getAll()}},{key:"render",value:function(){return n.a.createElement("div",{id:"homePage"},n.a.createElement("div",{id:"homeTitle"},"Featured Guides"),n.a.createElement("div",{id:"homeGuideContainer"},this.state.guides.map((function(e){return n.a.createElement(s.b,{to:"/guide?guideID="+e.guideID,key:e.guideID},n.a.createElement(h,{guide:e}))}))))}}]),a}(i.Component),p=a(19),f=a(21),b=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(o.a)(this,a);for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).id=new URLSearchParams(e.props.location.search).get("guideID"),e.url="http://guiabackend-env.eba-u9xxwbnm.us-west-1.elasticbeanstalk.com/getGuide?guideId="+e.id,e.state={guideHead:{},guideSections:[]},e}return Object(u.a)(a,[{key:"getSections",value:function(){var e=this;console.log(this.url),fetch(this.url).then((function(e){return e.json()})).then((function(t){e.setState({guideHead:t[0],guideSections:t[1]}),console.log(e.state)}))}},{key:"componentDidMount",value:function(){this.getSections()}},{key:"render",value:function(){return n.a.createElement("div",{id:"guide"},n.a.createElement("div",{id:"guideHead"},n.a.createElement("div",{id:"guideTile"},this.state.guideHead.title),!this.state.guideHead.image&&this.state.guideHead.video&&n.a.createElement(p.a,{id:"guideHeadVideo",videoId:f.getVidID(this.state.guideHead.video)}),this.state.guideHead.image&&n.a.createElement("img",{id:"guideHeadImg",src:this.state.guideHead.image,alt:this.state.guideHead.title}),n.a.createElement("div",{id:"guideHeadDesc"},this.state.guideHead.description)),n.a.createElement("div",{id:"guideSectionContainer"},this.state.guideSections.map((function(e){return n.a.createElement("div",{className:"guideSection",key:e._id},n.a.createElement("div",{className:"guideSectionTile"},e.title),!e.image&&e.video&&n.a.createElement(p.a,{className:"guideSectionVideo",videoId:f.getVidID(e.video)}),e.image&&n.a.createElement("img",{className:"guideSectionImg",src:e.image,alt:e.title}),n.a.createElement("div",{className:"guideSectionDesc"},e.description))}))))}}]),a}(i.Component),E=a(14),w=a(15),j=a.n(w),y=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(o.a)(this,a);for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).url="http://localhost:8080/uploadImage",e.state={file:null},e.onChooseFile=function(t){e.setState({file:t.target.files[0]})},e.onUploadFile=function(){var t=new FormData;t.append("file",e.state.file,e.state.file.name),j.a.post(e.url,t).then((function(t){e.props.handler(t)}))},e}return Object(u.a)(a,[{key:"render",value:function(){return n.a.createElement("div",{className:"fileUpload"},n.a.createElement("input",{type:"file",accept:"image",onChange:this.onChooseFile}),n.a.createElement("button",{onClick:this.onUploadFile},"Submit"))}}]),a}(i.Component),O=function e(){Object(o.a)(this,e),this.guideID="",this.author="",this.title="",this.description="",this.image="",this.video="",this.scoreUp=0,this.scoreDown=0},H=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(o.a)(this,a);for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).url="http://guiabackend-env.eba-u9xxwbnm.us-west-1.elasticbeanstalk.com/uploadGuideHead",e.state={guideHead:new O,guideSections:[]},e.onSaveGuide=function(){console.log(e.state.guideHead);var t=new FormData;t.append("file",JSON.stringify(e.state.guideHead)),j.a.post(e.url,t).then((function(e){}))},e.onAddHeadImg=function(t){e.setState((function(e){return{guideHead:Object(E.a)(Object(E.a)({},e.guideHead),{},{image:t.data.Location})}})),console.log(e.state.guideHead)},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this;return n.a.createElement("div",{id:"guideCreator"},n.a.createElement("div",{id:"guideCreatorHead"},n.a.createElement("input",{type:"text",className:"guideCreatorHeadInput",placeholder:"Title",onChange:function(t){var a=t.target.value;e.setState((function(e){return{guideHead:Object(E.a)(Object(E.a)({},e.guideHead),{},{title:a})}}))}}),n.a.createElement("textarea",{type:"text",className:"guideCreatorHeadInput",placeholder:"Description",onChange:function(t){var a=t.target.value;e.setState((function(e){return{guideHead:Object(E.a)(Object(E.a)({},e.guideHead),{},{description:a})}}))}}),n.a.createElement("div",{className:"guideCreatorHeadAddImage"},n.a.createElement("p",null,"[Optional] Add Image"),n.a.createElement("p",null),n.a.createElement(y,{handler:this.onAddHeadImg})),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("button",{onClick:this.onSaveGuide},"Save")))}}]),a}(i.Component),k=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(o.a)(this,a);for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={test:!0},e}return Object(u.a)(a,[{key:"hide",value:function(e){this.setState({homeLinks:!0})}},{key:"render",value:function(){var e=this;return n.a.createElement("div",{id:"container"},n.a.createElement("div",{id:"mainSidebar"},n.a.createElement(s.b,{to:"/"},n.a.createElement("img",{src:"./assets/GuiaLogo1.svg",alt:"Logo",id:"mainLogo"})),n.a.createElement(s.b,{to:"/createGuide"},n.a.createElement("div",{className:"sidebarButton"},"Create Guide"))),n.a.createElement("div",{id:"mainContainer"},n.a.createElement(g.c,null,n.a.createElement(g.a,{path:"/createGuide",render:function(e){return n.a.createElement(H,e)}}),n.a.createElement(g.a,{path:"/guide",render:function(e){return n.a.createElement(b,e)}}),n.a.createElement(g.a,{path:"/",render:function(t){return n.a.createElement(v,Object.assign({},t,{Hide:function(t){return e.hide(t)}}))}}))))}}]),a}(i.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(n.a.createElement(s.a,null,n.a.createElement(k,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[36,1,2]]]);
//# sourceMappingURL=main.1b3df852.chunk.js.map